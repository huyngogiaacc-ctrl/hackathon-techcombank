<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hệ Sinh Thái - Techcombank</title>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #faf6f1; color: #3d3d3d; }
    
    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 40px;
      background: linear-gradient(135deg, #1a5f7a 0%, #c41e3a 100%);
    }
    .logo-ecosystem img { height: 60px; border-radius: 50%; }
    .logo-ecosystem { display: flex; align-items: center; gap: 15px; }
    .logo-main { height: 50px !important; }
    .logo-partners { display: flex; gap: 10px; }
    .logo-partners img { height: 35px !important; border-radius: 8px; background: #fff; padding: 4px; }
    .header-actions { display: flex; gap: 10px; }
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s;
    }
    .btn-login { background: #fff; color: #c41e3a; }
    .btn-register { background: #d4a574; color: #fff; }
    .btn-profile { background: rgba(255,255,255,0.2); color: #fff; border: 1px solid rgba(255,255,255,0.5); }

    /* Navigator */
    .navigator {
      display: flex;
      justify-content: center;
      gap: 50px;
      padding: 15px 40px;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .nav-item {
      color: #1a5f7a;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      padding: 8px 0;
      border-bottom: 2px solid transparent;
    }
    .nav-item:hover, .nav-item.active { color: #c41e3a; border-bottom-color: #c41e3a; }

    /* Search Box */
    .ai-assistant { position: fixed; left: 25px; bottom: 25px; z-index: 100; cursor: pointer; }
    .ai-icon { width: 60px; height: 60px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; color: #fff; box-shadow: 0 4px 20px rgba(102,126,234,0.4); transition: transform 0.3s; }
    .ai-icon:hover { transform: scale(1.1); }
    .ai-pulse { position: absolute; top: 0; left: 0; width: 60px; height: 60px; border-radius: 50%; background: rgba(26,95,122,0.3); animation: pulse 2s infinite; }
    @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

    /* Main Content */
    .main-content { padding: 40px; }
    .page { display: none; }
    .page.active { display: block; }
    .section { margin-bottom: 40px; }
    .section-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 20px;
      color: #1a5f7a;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .section-title::before { content: ''; width: 4px; height: 24px; background: #c41e3a; border-radius: 2px; }
    .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
    .card {
      background: #fff;
      border-radius: 16px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      border-left: 4px solid #d4a574;
    }
    .card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
    .card-icon { font-size: 28px; margin-bottom: 12px; }
    .card-icon i { background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .card-title { font-weight: 600; margin-bottom: 8px; color: #1a5f7a; }
    .card-desc { font-size: 13px; color: #777; line-height: 1.5; }

    /* Dashboard */
    .dashboard-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .btn-customize { background: #fff; border: 1px solid #ddd; padding: 8px 16px; border-radius: 20px; font-size: 13px; cursor: pointer; }
    .btn-customize:hover { background: #f5f5f5; }
    .dashboard-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .widget { background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); transition: all 0.3s; }
    .widget:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
    .widget.dragging { opacity: 0.5; transform: scale(1.02); }
    .widget-large { grid-column: span 2; }
    .widget-small { grid-column: span 1; }
    .widget-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #f0f0f0; }
    .widget-title { font-weight: 600; color: #1a5f7a; font-size: 14px; }
    .widget-drag { color: #ccc; cursor: grab; font-size: 16px; }
    .widget-content { }
    .widget-center { text-align: center; padding: 10px 0; }
    /* Pie Chart */
    .chart-container { display: flex; align-items: center; gap: 30px; }
    .pie-chart { width: 150px; height: 150px; border-radius: 50%; position: relative; background: conic-gradient(#1a5f7a 0% 45%, #c41e3a 45% 75%, #d4a574 75% 100%); }
    .pie-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); background: #fff; width: 90px; height: 90px; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .pie-total { font-size: 18px; font-weight: 700; color: #1a5f7a; }
    .pie-label { font-size: 11px; color: #999; }
    .chart-legend { font-size: 13px; }
    .legend-item { display: flex; align-items: center; gap: 8px; padding: 5px 0; }
    .legend-dot { width: 12px; height: 12px; border-radius: 3px; }
    /* Cashflow */
    .cashflow-item { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
    .cashflow-label { width: 70px; font-size: 12px; color: #777; }
    .cashflow-bar { flex: 1; height: 20px; background: #f0f0f0; border-radius: 10px; overflow: hidden; }
    .cashflow-bar.income .bar-fill { background: linear-gradient(90deg, #4caf50, #8bc34a); height: 100%; }
    .cashflow-bar.expense .bar-fill { background: linear-gradient(90deg, #c41e3a, #e57373); height: 100%; }
    .cashflow-bar.saving .bar-fill { background: linear-gradient(90deg, #1a5f7a, #4fc3f7); height: 100%; }
    .cashflow-value { width: 60px; text-align: right; font-weight: 600; font-size: 13px; }
    .income-text { color: #4caf50; }
    .expense-text { color: #c41e3a; }
    .saving-text { color: #1a5f7a; }
    /* Bank Widget */
    .bank-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f5f5f5; font-size: 13px; }
    .bank-value { font-weight: 600; color: #1a5f7a; }
    .bank-value.negative { color: #c41e3a; }
    /* Loyalty */
    .loyalty-total { text-align: center; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #f0f0f0; }
    .loyalty-points { font-size: 32px; font-weight: 700; color: #d4a574; }
    .loyalty-label { font-size: 12px; color: #999; }
    .loyalty-breakdown { }
    .loyalty-source { display: flex; align-items: center; gap: 8px; padding: 8px 0; font-size: 12px; }
    .source-icon { font-size: 16px; }
    .source-name { width: 80px; color: #555; }
    .source-bar { flex: 1; height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden; }
    .source-fill { height: 100%; border-radius: 4px; }
    .source-points { width: 50px; text-align: right; font-weight: 600; color: #333; }
    /* BDS Widget */
    .widget-badge { font-size: 10px; background: #d4a574; color: #fff; padding: 3px 8px; border-radius: 10px; }
    .bds-summary { text-align: center; margin-bottom: 15px; }
    .bds-count { font-size: 28px; font-weight: 700; color: #1a5f7a; }
    .bds-label { font-size: 12px; color: #999; }
    .bds-list { }
    .bds-item { padding: 12px; background: #faf6f1; border-radius: 10px; margin-bottom: 10px; }
    .bds-name { font-weight: 600; color: #1a5f7a; font-size: 13px; margin-bottom: 4px; }
    .bds-detail { font-size: 11px; color: #777; }
    .bds-price { font-size: 14px; font-weight: 600; color: #c41e3a; margin-top: 5px; }
    .bds-total { text-align: center; margin-top: 10px; font-size: 13px; color: #555; }
    /* Products Used */
    .products-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .product-used { display: flex; align-items: center; gap: 10px; padding: 12px; background: #faf6f1; border-radius: 10px; }
    .product-used-icon { font-size: 24px; color: #667eea; }
    .product-used-info { flex: 1; }
    .product-used-name { font-size: 13px; font-weight: 500; color: #333; }
    .product-used-source { font-size: 11px; color: #999; }
    .product-used-status { font-size: 11px; padding: 4px 8px; border-radius: 10px; background: #e8f5e9; color: #2e7d32; }
    /* Debt Reminder */
    .debt-reminder { }
    .debt-item { display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
    .debt-item:last-child { border-bottom: none; }
    .debt-item.upcoming { background: linear-gradient(90deg, #fff8e1, transparent); margin: -12px -15px; padding: 12px 15px; border-radius: 8px; }
    .debt-date { text-align: center; min-width: 45px; }
    .debt-day { font-size: 20px; font-weight: 700; color: #1a5f7a; }
    .debt-month { font-size: 10px; color: #999; }
    .debt-item.upcoming .debt-day { color: #c41e3a; }
    .debt-info { flex: 1; }
    .debt-name { font-size: 13px; font-weight: 500; color: #333; }
    .debt-detail { font-size: 11px; color: #777; }
    .debt-amount { font-size: 14px; font-weight: 600; color: #c41e3a; }
    .debt-summary { display: flex; justify-content: space-between; margin-top: 15px; padding-top: 12px; border-top: 1px solid #eee; font-size: 13px; }
    .debt-summary strong { color: #c41e3a; }
    /* Loan Plan */
    .loan-plan { }
    .loan-item { padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
    .loan-item:last-child { border-bottom: none; }
    .loan-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
    .loan-name { font-size: 13px; font-weight: 500; color: #333; }
    .loan-remaining { font-size: 13px; font-weight: 600; color: #c41e3a; }
    .loan-progress { display: flex; align-items: center; gap: 10px; margin-bottom: 6px; }
    .loan-bar { flex: 1; height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden; }
    .loan-fill { height: 100%; background: linear-gradient(90deg, #11998e, #38ef7d); border-radius: 4px; }
    .loan-percent { font-size: 12px; font-weight: 600; color: #11998e; min-width: 35px; }
    .loan-detail { display: flex; justify-content: space-between; font-size: 11px; color: #777; }

    /* Privacy Tab */
    .privacy-notice { display: flex; gap: 12px; padding: 15px; background: linear-gradient(135deg, #fff8e1, #fff); border-radius: 12px; margin-bottom: 20px; border-left: 3px solid #ffc107; }
    .notice-icon { font-size: 20px; }
    .notice-content { font-size: 13px; color: #555; line-height: 1.5; }
    .privacy-section { margin-bottom: 25px; }
    .privacy-section-title { font-size: 14px; font-weight: 600; color: #1a5f7a; margin-bottom: 15px; }
    .privacy-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #faf6f1; border-radius: 12px; margin-bottom: 10px; }
    .privacy-info { display: flex; align-items: center; gap: 12px; }
    .privacy-icon { font-size: 24px; }
    .privacy-logo { width: 40px; height: 40px; border-radius: 8px; object-fit: contain; background: #fff; padding: 4px; }
    .privacy-name { font-weight: 500; color: #333; font-size: 14px; }
    .privacy-desc { font-size: 11px; color: #777; margin-top: 2px; }
    .toggle-switch { position: relative; width: 50px; height: 26px; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #ccc; border-radius: 26px; transition: 0.3s; }
    .toggle-slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background: #fff; border-radius: 50%; transition: 0.3s; }
    .toggle-switch input:checked + .toggle-slider { background: #1a5f7a; }
    .toggle-switch input:checked + .toggle-slider:before { transform: translateX(24px); }

    /* Marketplace */
    .marketplace-header { margin-bottom: 20px; }
    .needs-section { background: #fff; border-radius: 16px; padding: 20px; margin-bottom: 25px; }
    .needs-title { font-size: 14px; font-weight: 600; color: #1a5f7a; margin-bottom: 15px; }
    .needs-bubbles { display: flex; flex-wrap: wrap; gap: 10px; }
    .bubble { padding: 8px 16px; border-radius: 20px; font-size: 13px; background: #f0f0f0; color: #666; cursor: pointer; transition: all 0.3s; }
    .bubble:hover { background: #e0e0e0; }
    .bubble.active { background: #1a5f7a; color: #fff; }
    .bubble.active.large { background: linear-gradient(135deg, #c41e3a, #d4a574); font-size: 14px; padding: 10px 20px; box-shadow: 0 4px 15px rgba(196,30,58,0.3); }
    .marketplace-grid { display: flex; flex-direction: column; gap: 25px; }
    .product-category { background: #fff; border-radius: 16px; padding: 20px; }
    .category-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 12px; border-bottom: 1px solid #f0f0f0; }
    .category-title { font-size: 16px; font-weight: 600; color: #1a5f7a; }
    .category-match { font-size: 12px; color: #777; }
    .category-match strong { color: #c41e3a; }
    .product-list { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px; }
    .product-card { min-width: 200px; background: #faf6f1; border-radius: 12px; padding: 15px; position: relative; flex-shrink: 0; }
    .product-badge { position: absolute; top: 10px; right: 10px; background: #c41e3a; color: #fff; font-size: 10px; padding: 3px 8px; border-radius: 10px; }
    .product-img { font-size: 36px; margin-bottom: 10px; height: 50px; display: flex; align-items: center; justify-content: center; }
    .product-img i { background: linear-gradient(135deg, #f093fb, #f5576c); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .product-name { font-weight: 600; color: #333; font-size: 14px; margin-bottom: 5px; }
    .product-desc { font-size: 11px; color: #777; margin-bottom: 10px; line-height: 1.4; }
    .product-price { font-size: 13px; font-weight: 600; color: #c41e3a; margin-bottom: 12px; }
    .product-btn { width: 100%; padding: 8px; background: #1a5f7a; color: #fff; border: none; border-radius: 8px; font-size: 12px; cursor: pointer; }
    .product-btn:hover { background: #c41e3a; }
    .product-source { font-size: 10px; color: #1a5f7a; margin-bottom: 8px; font-weight: 500; }
    .product-badge.new { background: #4caf50; }
    .horizontal-scroll { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px; }
    .card-source { font-size: 11px; color: #d4a574; margin-top: 10px; font-weight: 500; }
    /* News */
    .news-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .news-card { background: #fff; border-radius: 16px; overflow: hidden; display: flex; flex-direction: column; transition: all 0.3s; cursor: pointer; }
    .news-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
    .news-img { height: 120px; display: flex; align-items: center; justify-content: center; font-size: 48px; }
    .news-body { padding: 15px; }
    .news-tag { font-size: 11px; color: #1a5f7a; font-weight: 600; margin-bottom: 8px; }
    .news-title { font-size: 14px; font-weight: 600; color: #333; line-height: 1.4; margin-bottom: 8px; }
    .news-meta { font-size: 11px; color: #999; }

    /* Profile Page */
    .profile-header { background: #fff; padding: 25px 30px; border-radius: 16px; margin-bottom: 20px; display: flex; align-items: center; gap: 20px; }
    .profile-avatar { width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #1a5f7a, #c41e3a); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 28px; }
    .profile-name { font-size: 20px; font-weight: 600; color: #1a5f7a; }
    .profile-email { color: #777; font-size: 14px; }
    .profile-completion { text-align: right; }
    .completion-text { font-size: 14px; color: #555; margin-bottom: 8px; }
    .completion-percent { font-size: 24px; font-weight: 700; color: #c41e3a; }
    .completion-bar { width: 180px; height: 8px; background: #eee; border-radius: 10px; overflow: hidden; }
    .completion-fill { height: 100%; background: linear-gradient(90deg, #c41e3a, #d4a574); border-radius: 10px; transition: width 0.5s; }
    .completion-hint { font-size: 11px; color: #d4a574; margin-top: 5px; }
    .profile-benefits { display: flex; gap: 20px; margin-bottom: 20px; }
    .benefit-item { flex: 1; background: linear-gradient(135deg, #fff8f0, #fff); padding: 15px 20px; border-radius: 12px; font-size: 13px; color: #555; border-left: 3px solid #d4a574; }
    .benefit-item.link-cta { flex: 2; background: linear-gradient(135deg, #1a5f7a, #2a7f9a); color: #fff; border-left: none; display: flex; align-items: center; justify-content: space-between; gap: 15px; }
    .link-cta-text { font-size: 14px; }
    .btn-link-now { background: #fff; color: #1a5f7a; border: none; padding: 10px 20px; border-radius: 20px; font-size: 13px; font-weight: 600; cursor: pointer; white-space: nowrap; }
    .btn-link-now:hover { background: #d4a574; color: #fff; }
    .profile-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
    .profile-tab {
      padding: 14px 20px;
      background: #fff;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      color: #555;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
    }
    .profile-tab.active { background: #1a5f7a; color: #fff; }
    .tab-icon { font-size: 16px; }
    .tab-status { font-size: 10px; padding: 2px 6px; border-radius: 10px; margin-left: 5px; }
    .tab-status.complete { background: #e8f5e9; color: #2e7d32; }
    .tab-status.pending { background: #fff3e0; color: #e65100; }
    .profile-tab.active .tab-status.complete { background: rgba(255,255,255,0.3); color: #fff; }
    .profile-tab.active .tab-status.pending { background: rgba(255,255,255,0.3); color: #fff; }
    .info-group { background: #fff; border-radius: 16px; padding: 25px; margin-bottom: 20px; }
    .info-group-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 12px; }
    .info-group-title { font-size: 16px; font-weight: 600; color: #1a5f7a; }
    .badge-complete { font-size: 12px; color: #2e7d32; background: #e8f5e9; padding: 5px 12px; border-radius: 20px; }
    .info-row { display: flex; padding: 12px 0; border-bottom: 1px solid #f5f5f5; }
    .info-label { width: 180px; color: #777; font-size: 13px; }
    .info-value { flex: 1; font-size: 14px; color: #333; }
    /* Empty State */
    .empty-state { text-align: center; padding: 40px 30px; }
    .empty-icon { font-size: 50px; margin-bottom: 15px; }
    .empty-title { font-size: 18px; font-weight: 600; color: #1a5f7a; margin-bottom: 10px; }
    .empty-desc { font-size: 14px; color: #777; margin-bottom: 20px; max-width: 400px; margin-left: auto; margin-right: auto; line-height: 1.6; }
    .empty-benefits { display: inline-block; text-align: left; background: #f8f8f8; padding: 15px 25px; border-radius: 12px; margin-bottom: 25px; font-size: 13px; color: #555; }
    .empty-benefits div { padding: 5px 0; }
    .btn-update { background: linear-gradient(135deg, #c41e3a, #d4a574); color: #fff; border: none; padding: 14px 40px; border-radius: 25px; font-size: 15px; font-weight: 500; cursor: pointer; }
    .btn-update:hover { transform: scale(1.02); box-shadow: 0 4px 15px rgba(196,30,58,0.3); }
    .privacy-note { font-size: 11px; color: #999; margin-top: 15px; }
    /* Link Cards */
    .link-cards { display: flex; flex-direction: column; gap: 15px; }
    .link-card { display: flex; align-items: center; gap: 15px; padding: 20px; background: #faf6f1; border-radius: 12px; }
    .link-icon { font-size: 32px; width: 50px; text-align: center; }
    .link-info { flex: 1; }
    .link-title { font-weight: 600; color: #1a5f7a; margin-bottom: 4px; }
    .link-desc { font-size: 12px; color: #777; }
    .btn-link { background: #1a5f7a; color: #fff; border: none; padding: 10px 20px; border-radius: 20px; font-size: 13px; cursor: pointer; }
    .btn-link:hover { background: #c41e3a; }
    .btn-link.linked { background: #e8f5e9; color: #2e7d32; }
    .link-benefits { margin-top: 20px; padding: 15px 20px; background: linear-gradient(135deg, #fff8f0, #fff); border-radius: 12px; font-size: 13px; color: #555; border-left: 3px solid #d4a574; }
    .link-benefit-title { font-weight: 600; color: #1a5f7a; margin-bottom: 8px; }
    .link-expand { font-size: 12px; color: #1a5f7a; cursor: pointer; margin-top: 8px; }
    .link-expand:hover { color: #c41e3a; }
    .link-details { display: none; margin-top: 10px; padding: 10px; background: #fff; border-radius: 8px; font-size: 12px; color: #555; }
    .link-details.show { display: block; }
    .link-details div { padding: 4px 0; }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .modal-overlay.active { display: flex; }
    .modal { background: #fff; border-radius: 20px; padding: 40px; width: 420px; max-width: 90%; position: relative; max-height: 90vh; overflow-y: auto; }
    .modal.modal-large { width: 600px; }
    .form-section { margin-bottom: 25px; }
    .form-section-title { font-size: 14px; font-weight: 600; color: #1a5f7a; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 1px solid #eee; }
    .form-row { display: flex; gap: 15px; }
    .form-row .form-group { flex: 1; }
    .modal-title { font-size: 22px; font-weight: 600; color: #1a5f7a; margin-bottom: 25px; text-align: center; }
    .form-group { margin-bottom: 18px; }
    .form-group label { display: block; font-size: 13px; color: #555; margin-bottom: 6px; }
    .form-group input, .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 14px;
    }
    .btn-submit {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #1a5f7a, #c41e3a);
      color: #fff;
      border: none;
      border-radius: 25px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      margin-top: 10px;
    }
    .divider { text-align: center; margin: 20px 0; color: #999; font-size: 13px; }
    .sso-buttons { display: flex; flex-direction: column; gap: 10px; }
    .btn-sso {
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .btn-sso:hover { background: #f5f5f5; }
    .modal-close { position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer; color: #999; }
    .checkbox-group { display: flex; flex-wrap: wrap; gap: 10px; }
    .checkbox-group label { font-size: 13px; color: #555; display: flex; align-items: center; gap: 5px; cursor: pointer; }
    .form-textarea { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 14px; min-height: 80px; resize: vertical; font-family: inherit; }
    .form-textarea:focus { outline: none; border-color: #1a5f7a; }

    /* AI Modal */
    .modal-ai { width: 550px; }
    .ai-header { text-align: center; margin-bottom: 20px; }
    .ai-avatar { font-size: 50px; margin-bottom: 10px; }
    .ai-greeting { font-size: 16px; color: #1a5f7a; font-weight: 500; }
    .ai-search-box { display: flex; gap: 10px; margin-bottom: 15px; }
    .ai-input { flex: 1; padding: 15px 20px; border: 2px solid #1a5f7a; border-radius: 30px; font-size: 15px; }
    .ai-input:focus { outline: none; border-color: #c41e3a; }
    .ai-send { width: 50px; height: 50px; background: linear-gradient(135deg, #1a5f7a, #c41e3a); border: none; border-radius: 50%; color: #fff; font-size: 18px; cursor: pointer; }
    .ai-suggestions { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 25px; }
    .ai-chip { padding: 8px 15px; background: #f0f0f0; border-radius: 20px; font-size: 12px; color: #555; cursor: pointer; }
    .ai-chip:hover { background: #1a5f7a; color: #fff; }
    .ai-profile-summary { background: #e8f4f8; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
    .ai-summary-title { font-size: 13px; font-weight: 600; color: #1a5f7a; margin-bottom: 10px; }
    .ai-summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .ai-summary-item { font-size: 12px; color: #555; display: flex; align-items: center; gap: 6px; }
    .ai-needs-section { background: #fff8f0; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
    .ai-needs-title { font-size: 13px; font-weight: 600; color: #c41e3a; margin-bottom: 10px; }
    .ai-needs-list { display: flex; flex-wrap: wrap; gap: 8px; }
    .ai-need-item { padding: 6px 12px; background: #fff; border-radius: 15px; font-size: 11px; color: #555; border: 1px solid #ddd; }
    .ai-need-item.active { background: linear-gradient(135deg, #c41e3a, #d4a574); color: #fff; border: none; }
    .ai-recommendations { margin-bottom: 15px; }
    .ai-rec-title { font-size: 14px; font-weight: 600; color: #1a5f7a; margin-bottom: 12px; }
    .ai-rec-list { display: flex; flex-direction: column; gap: 10px; max-height: 250px; overflow-y: auto; }
    .ai-rec-card { display: flex; gap: 12px; padding: 12px; background: #faf6f1; border-radius: 12px; border-left: 3px solid #1a5f7a; }
    .ai-rec-icon { font-size: 24px; }
    .ai-rec-content { flex: 1; }
    .ai-rec-name { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px; }
    .ai-rec-desc { font-size: 11px; color: #777; margin-bottom: 4px; }
    .ai-rec-benefit { font-size: 11px; color: #4caf50; font-weight: 500; }
    .simulator-section { background: #faf6f1; border-radius: 16px; padding: 20px; }
    .simulator-title { font-size: 15px; font-weight: 600; color: #1a5f7a; margin-bottom: 15px; }
    .simulator-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
    .sim-item label { display: block; font-size: 11px; color: #777; margin-bottom: 5px; }
    .sim-input { width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
    .sim-result { background: #fff; border-radius: 12px; padding: 15px; }
    .sim-result-title { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 12px; }
    .sim-stats { display: flex; gap: 15px; margin-bottom: 15px; }
    .sim-stat { flex: 1; text-align: center; padding: 10px; background: #f8f8f8; border-radius: 10px; }
    .sim-stat-value { font-size: 18px; font-weight: 700; color: #1a5f7a; }
    .sim-stat-label { font-size: 10px; color: #999; margin-top: 3px; }
    .sim-recommendation { font-size: 12px; color: #555; line-height: 1.5; padding: 12px; background: linear-gradient(135deg, #fff8e1, #fff); border-radius: 10px; border-left: 3px solid #d4a574; }
    /* AI Search Results */
    .ai-search-results { background: #f8f8f8; border-radius: 12px; padding: 15px; margin-bottom: 15px; max-height: 300px; overflow-y: auto; }
    .search-results-title { font-size: 12px; color: #777; margin-bottom: 10px; }
    .search-product-list { display: flex; flex-direction: column; gap: 8px; }
    .search-product { display: flex; align-items: center; gap: 12px; padding: 12px; background: #fff; border-radius: 10px; cursor: pointer; transition: all 0.2s; }
    .search-product:hover { background: #f0f0f0; transform: translateX(5px); }
    .search-product.selected { background: linear-gradient(135deg, #e8f4f8, #fff); border: 2px solid #1a5f7a; }
    .search-product-icon { font-size: 24px; color: #667eea; }
    .search-product-info { flex: 1; }
    .search-product-name { font-size: 13px; font-weight: 500; color: #333; }
    .search-product-desc { font-size: 11px; color: #777; }
    .search-product-tag { font-size: 10px; padding: 3px 8px; border-radius: 10px; background: #e0e0e0; color: #555; }
    .search-product-tag.loan { background: #ffebee; color: #c41e3a; }
    /* Loan Plan Section */
    .loan-plan-section { background: linear-gradient(135deg, #faf6f1, #fff); border-radius: 12px; padding: 20px; margin-bottom: 15px; border: 1px solid #e0e0e0; }
    .loan-plan-title { font-size: 14px; font-weight: 600; color: #1a5f7a; margin-bottom: 15px; }
    .loan-form-row { display: flex; gap: 12px; margin-bottom: 12px; }
    .loan-form-item { flex: 1; }
    .loan-form-item label { display: block; font-size: 11px; color: #777; margin-bottom: 5px; }
    .loan-result { display: flex; gap: 15px; margin: 15px 0; padding: 15px; background: #fff; border-radius: 10px; }
    .loan-result-item { flex: 1; text-align: center; }
    .loan-result-label { display: block; font-size: 11px; color: #777; margin-bottom: 5px; }
    .loan-result-value { font-size: 18px; font-weight: 700; color: #1a5f7a; }
    .loan-result-value.highlight { color: #c41e3a; }
    .loan-schedule { background: #fff; border-radius: 10px; padding: 15px; }
    .loan-schedule-title { font-size: 12px; font-weight: 600; color: #333; margin-bottom: 10px; }
    .loan-schedule-table { font-size: 11px; }
    .schedule-header { display: flex; padding: 8px 0; border-bottom: 1px solid #eee; font-weight: 600; color: #555; }
    .schedule-header span, .schedule-row span { flex: 1; text-align: center; }
    .schedule-row { display: flex; padding: 8px 0; border-bottom: 1px solid #f5f5f5; color: #666; }
    .btn-view-full { width: 100%; margin-top: 10px; padding: 10px; background: #1a5f7a; color: #fff; border: none; border-radius: 8px; font-size: 12px; cursor: pointer; }
    .btn-view-full:hover { background: #c41e3a; }
    /* Search Page */
    .search-page-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
    .search-back { font-size: 24px; color: #1a5f7a; cursor: pointer; }
    .search-input-wrap { flex: 1; }
    .search-page-input { width: 100%; padding: 14px 20px; border: 2px solid #e0e0e0; border-radius: 30px; font-size: 15px; }
    .search-page-input:focus { outline: none; border-color: #1a5f7a; }
    .search-filters { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
    .filter-chip { padding: 8px 16px; background: #f0f0f0; border-radius: 20px; font-size: 13px; color: #555; cursor: pointer; }
    .filter-chip:hover { background: #e0e0e0; }
    .filter-chip.active { background: #1a5f7a; color: #fff; }
    .search-results-count { font-size: 13px; color: #777; margin-bottom: 15px; }
    .search-results-grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
    .search-result-card { background: #fff; border-radius: 16px; overflow: hidden; transition: all 0.3s; }
    .search-result-card:hover { box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
    .result-card-img { height: 80px; display: flex; align-items: center; justify-content: center; font-size: 36px; color: #fff; }
    .result-card-img.loan { background: linear-gradient(135deg, #667eea, #764ba2); }
    .result-card-img.card { background: linear-gradient(135deg, #f093fb, #f5576c); }
    .result-card-img.saving { background: linear-gradient(135deg, #11998e, #38ef7d); }
    .result-card-img.insurance { background: linear-gradient(135deg, #4facfe, #00f2fe); }
    .result-card-img.realestate { background: linear-gradient(135deg, #fa709a, #fee140); }
    .result-card-body { padding: 15px; }
    .result-card-tag { font-size: 10px; color: #999; margin-bottom: 5px; }
    .result-card-name { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 5px; }
    .result-card-desc { font-size: 12px; color: #777; margin-bottom: 10px; }
    .result-card-price { font-size: 13px; font-weight: 600; color: #c41e3a; }
    .result-card-highlight { font-size: 12px; color: #1a5f7a; font-weight: 500; }
    /* Product Expand */
    .btn-expand { width: 100%; padding: 10px; background: #f5f5f5; border: none; border-radius: 8px; font-size: 12px; color: #1a5f7a; cursor: pointer; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 5px; }
    .btn-expand:hover { background: #e8f4f8; }
    .btn-expand.active i { transform: rotate(180deg); }
    .product-detail-expand { display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }
    .product-detail-expand.show { display: block; }
    .detail-section { margin-bottom: 15px; }
    .detail-title { font-size: 13px; font-weight: 600; color: #1a5f7a; margin-bottom: 10px; display: flex; align-items: center; gap: 5px; }
    .detail-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f5f5f5; font-size: 12px; }
    .detail-row span:first-child { color: #777; }
    .detail-row span:last-child { color: #333; font-weight: 500; }
    .detail-row .highlight { color: #c41e3a; }
    /* Loan Simulator in Card */
    .loan-sim-form { background: #f8f8f8; border-radius: 10px; padding: 12px; margin-bottom: 12px; }
    .sim-row { display: flex; gap: 10px; }
    .sim-field { flex: 1; }
    .sim-field label { display: block; font-size: 10px; color: #777; margin-bottom: 4px; }
    .sim-field input, .sim-field select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 12px; }
    .loan-sim-result { display: flex; gap: 10px; margin-bottom: 12px; }
    .sim-result-box { flex: 1; text-align: center; padding: 10px; background: #fff; border-radius: 8px; border: 1px solid #eee; }
    .sim-result-box.highlight { background: linear-gradient(135deg, #fff8e1, #fff); border-color: #d4a574; }
    .sim-val { font-size: 16px; font-weight: 700; color: #1a5f7a; }
    .sim-result-box.highlight .sim-val { color: #c41e3a; }
    .sim-lbl { font-size: 10px; color: #999; }
    .loan-schedule-mini { background: #fff; border-radius: 8px; border: 1px solid #eee; padding: 10px; }
    .schedule-mini-title { font-size: 11px; font-weight: 600; color: #333; margin-bottom: 8px; }
    .schedule-mini-table { font-size: 10px; }
    .sch-header { display: flex; padding: 6px 0; border-bottom: 1px solid #eee; font-weight: 600; color: #555; }
    .sch-header span, .sch-row span { flex: 1; text-align: center; }
    .sch-row { display: flex; padding: 6px 0; border-bottom: 1px solid #f8f8f8; color: #666; }
    .btn-apply-product { width: 100%; padding: 12px; background: linear-gradient(135deg, #667eea, #764ba2); color: #fff; border: none; border-radius: 10px; font-size: 13px; font-weight: 500; cursor: pointer; margin-top: 12px; }
    .btn-apply-product:hover { opacity: 0.9; }
    .register-method { display: flex; gap: 10px; margin-bottom: 20px; }
    .method-btn { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 10px; background: #fff; cursor: pointer; font-size: 13px; }
    .method-btn.active { border-color: #1a5f7a; background: #e8f4f8; color: #1a5f7a; }

    /* Responsive Mobile */
    @media (max-width: 768px) {
      .header { padding: 10px 15px; flex-wrap: wrap; gap: 10px; }
      .logo-ecosystem img { height: 40px; }
      .header-actions { gap: 5px; }
      .btn { padding: 8px 12px; font-size: 12px; }
      .navigator { gap: 15px; padding: 12px 15px; overflow-x: auto; justify-content: flex-start; }
      .nav-item { font-size: 13px; white-space: nowrap; }
      .main-content { padding: 15px; }
      .section-title { font-size: 16px; }
      .card-grid { grid-template-columns: 1fr; gap: 15px; }
      .card { padding: 15px; }
      .dashboard-header { flex-direction: column; align-items: flex-start; gap: 10px; }
      .dashboard-grid { grid-template-columns: 1fr; }
      .widget-large { grid-column: span 1; }
      .chart-container { flex-direction: column; gap: 15px; }
      .pie-chart { width: 120px; height: 120px; }
      .pie-center { width: 70px; height: 70px; }
      .pie-total { font-size: 14px; }
      .profile-header { flex-direction: column; text-align: center; }
      .profile-completion { text-align: center; }
      .profile-benefits { flex-direction: column; }
      .benefit-item.link-cta { flex-direction: column; text-align: center; }
      .profile-tabs { flex-wrap: wrap; gap: 8px; }
      .profile-tab { padding: 10px 12px; font-size: 12px; }
      .form-row { flex-direction: column; }
      .info-row { flex-direction: column; gap: 5px; }
      .info-label { width: 100%; }
      .link-card { flex-direction: column; text-align: center; }
      .privacy-item { flex-direction: column; gap: 10px; text-align: center; }
      .privacy-info { flex-direction: column; }
      .needs-bubbles { justify-content: center; }
      .bubble { font-size: 11px; padding: 6px 12px; }
      .bubble.active.large { font-size: 12px; padding: 8px 14px; }
      .product-category { padding: 15px; }
      .product-list { gap: 10px; }
      .product-card { min-width: 160px; padding: 12px; }
      .news-grid { grid-template-columns: 1fr; }
      .horizontal-scroll { gap: 10px; }
      .modal { width: 95%; padding: 20px; max-height: 85vh; }
      .modal-ai { width: 95%; }
      .simulator-grid { grid-template-columns: 1fr; }
      .sim-stats { flex-direction: column; gap: 10px; }
      .ai-assistant { left: 15px; bottom: 15px; }
      .ai-icon { width: 50px; height: 50px; font-size: 24px; }
      .ai-pulse { width: 50px; height: 50px; }
      .ai-search-box { flex-direction: column; }
      .ai-send { width: 100%; height: 45px; border-radius: 25px; }
      .ai-suggestions { justify-content: center; }
    }
  </style>
</head>
<body>

  <header class="header">
    <div class="logo-ecosystem">
      <img src="public/logo-cropped.jpg" alt="Hệ sinh thái" class="logo-main">
    </div>
    <div class="header-actions">
      <button class="btn btn-login" onclick="openModal('loginModal')">Đăng nhập</button>
      <button class="btn btn-register" onclick="openModal('registerModal')">Đăng ký</button>
      <button class="btn btn-profile" onclick="showPage('profile')">My Profile</button>
    </div>
  </header>

  <nav class="navigator">
    <a href="#" class="nav-item" onclick="showPage('dashboard')">My Dashboard</a>
    <a href="#" class="nav-item" onclick="showPage('marketplace')">Marketplace</a>
    <a href="#" class="nav-item active" onclick="showPage('home')">New</a>
  </nav>

  <!-- AI Assistant Button -->
  <div class="ai-assistant" onclick="openModal('aiModal')">
    <div class="ai-icon"><i class="ph-duotone ph-robot"></i></div>
    <div class="ai-pulse"></div>
  </div>

  <main class="main-content">
    <!-- Home Page -->
    <div class="page active" id="page-home">
      <section class="section">
        <h2 class="section-title"><i class="ph-duotone ph-fire" style="color:#f5576c;"></i> Sản phẩm mới từ hệ sinh thái</h2>
        <div class="product-list horizontal-scroll">
          <div class="product-card">
            <div class="product-badge new">Mới</div>
            <div class="product-img"><i class="ph-duotone ph-car-profile"></i></div>
            <div class="product-name">VinFast VF3</div>
            <div class="product-desc">Xe điện mini đô thị, pin LFP an toàn</div>
            <div class="product-price">Từ 235 triệu</div>
            <div class="product-source">VinFast</div>
            <button class="product-btn">Tìm hiểu</button>
          </div>
          <div class="product-card">
            <div class="product-badge new">Mới</div>
            <div class="product-img"><i class="ph-duotone ph-buildings"></i></div>
            <div class="product-name">The Opus One</div>
            <div class="product-desc">Căn hộ hạng sang Vinhomes Grand Park</div>
            <div class="product-price">Từ 5.2 tỷ</div>
            <div class="product-source">Masterise</div>
            <button class="product-btn">Tìm hiểu</button>
          </div>
          <div class="product-card">
            <div class="product-badge new">Mới</div>
            <div class="product-img"><i class="ph-duotone ph-credit-card"></i></div>
            <div class="product-name">Thẻ Techcombank Live+</div>
            <div class="product-desc">Hoàn tiền 10% ăn uống, giải trí</div>
            <div class="product-price">Miễn phí thường niên</div>
            <div class="product-source">Techcombank</div>
            <button class="product-btn">Mở thẻ</button>
          </div>
          <div class="product-card">
            <div class="product-badge new">Mới</div>
            <div class="product-img"><i class="ph-duotone ph-first-aid-kit"></i></div>
            <div class="product-name">Gói khám VIP Vinmec</div>
            <div class="product-desc">Tầm soát ung thư toàn diện 2024</div>
            <div class="product-price">8.5 triệu</div>
            <div class="product-source">Vinmec</div>
            <button class="product-btn">Đặt lịch</button>
          </div>
        </div>
      </section>

      <section class="section">
        <h2 class="section-title"><i class="ph-duotone ph-star" style="color:#fbbf24;"></i> Sản phẩm nổi bật</h2>
        <div class="card-grid">
          <div class="card">
            <div class="card-icon"><i class="ph-duotone ph-house-line"></i></div>
            <div class="card-title">Vay mua nhà 0% lãi suất</div>
            <div class="card-desc">Ưu đãi độc quyền cho dự án Masterise, hỗ trợ đến 80%</div>
            <div class="card-source">Techcombank x Masterise</div>
          </div>
          <div class="card">
            <div class="card-icon"><i class="ph-duotone ph-shopping-cart"></i></div>
            <div class="card-title">Hoàn tiền 10% VinMart</div>
            <div class="card-desc">Áp dụng cho chủ thẻ Techcombank, tối đa 500K/tháng</div>
            <div class="card-source">Techcombank x OneMOUNT</div>
          </div>
          <div class="card">
            <div class="card-icon"><i class="ph-duotone ph-graduation-cap"></i></div>
            <div class="card-title">Học bổng Vinschool 50%</div>
            <div class="card-desc">Dành cho con em khách hàng ưu tiên Techcombank</div>
            <div class="card-source">Techcombank x Vinschool</div>
          </div>
          <div class="card">
            <div class="card-icon"><i class="ph-duotone ph-lightning"></i></div>
            <div class="card-title">Trả góp VinFast 0%</div>
            <div class="card-desc">Lãi suất 0% trong 12 tháng đầu, duyệt nhanh 24h</div>
            <div class="card-source">Techcombank x VinFast</div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2 class="section-title"><i class="ph-duotone ph-newspaper" style="color:#667eea;"></i> Tin tức hệ sinh thái</h2>
        <div class="news-grid">
          <div class="news-card">
            <div class="news-img" style="background: linear-gradient(135deg, #667eea, #764ba2);"><i class="ph-duotone ph-buildings" style="font-size:48px;color:#fff;"></i></div>
            <div class="news-body">
              <div class="news-tag">Masterise Homes</div>
              <div class="news-title">Masterise ra mắt dự án Grand Marina Saigon giai đoạn 2</div>
              <div class="news-meta">02/01/2026 • 5 phút đọc</div>
            </div>
          </div>
          <div class="news-card">
            <div class="news-img" style="background: linear-gradient(135deg, #11998e, #38ef7d);"><i class="ph-duotone ph-car-profile" style="font-size:48px;color:#fff;"></i></div>
            <div class="news-body">
              <div class="news-tag">VinFast</div>
              <div class="news-title">VinFast giao 10,000 xe VF3 trong tháng 12</div>
              <div class="news-meta">28/12/2025 • 3 phút đọc</div>
            </div>
          </div>
          <div class="news-card">
            <div class="news-img" style="background: linear-gradient(135deg, #f093fb, #f5576c);"><i class="ph-duotone ph-bank" style="font-size:48px;color:#fff;"></i></div>
            <div class="news-body">
              <div class="news-tag">Techcombank</div>
              <div class="news-title">Techcombank đạt Top 1 ngân hàng tư nhân uy tín nhất</div>
              <div class="news-meta">25/12/2025 • 4 phút đọc</div>
            </div>
          </div>
          <div class="news-card">
            <div class="news-img" style="background: linear-gradient(135deg, #ffecd2, #fcb69f);"><i class="ph-duotone ph-storefront" style="font-size:48px;color:#fff;"></i></div>
            <div class="news-body">
              <div class="news-tag">OneMOUNT</div>
              <div class="news-title">VinMart+ mở thêm 200 cửa hàng mới trên toàn quốc</div>
              <div class="news-meta">20/12/2025 • 3 phút đọc</div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Dashboard Page -->
    <div class="page" id="page-dashboard">
      <div class="dashboard-header">
        <h2 class="section-title">My Dashboard</h2>
        <button class="btn-customize" onclick="toggleDragMode()"><i class="ph-duotone ph-gear"></i> Tùy chỉnh</button>
      </div>
      
      <div class="dashboard-grid" id="dashboardGrid">
        <!-- Widget: Tổng quan tài sản -->
        <div class="widget widget-large" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-chart-pie"></i> Tổng quan tài sản</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="chart-container">
              <div class="pie-chart">
                <div class="pie-segment seg-1" style="--percent:45; --color:#1a5f7a;"></div>
                <div class="pie-segment seg-2" style="--percent:30; --color:#c41e3a;"></div>
                <div class="pie-segment seg-3" style="--percent:25; --color:#d4a574;"></div>
                <div class="pie-center">
                  <div class="pie-total">2.5 tỷ</div>
                  <div class="pie-label">Tổng tài sản</div>
                </div>
              </div>
              <div class="chart-legend">
                <div class="legend-item"><span class="legend-dot" style="background:#1a5f7a;"></span>Tiền gửi (45%)</div>
                <div class="legend-item"><span class="legend-dot" style="background:#c41e3a;"></span>Bất động sản (30%)</div>
                <div class="legend-item"><span class="legend-dot" style="background:#d4a574;"></span>Đầu tư (25%)</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Dòng tiền -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-currency-circle-dollar"></i> Dòng tiền tháng này</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="cashflow-bars">
              <div class="cashflow-item">
                <div class="cashflow-label">Thu nhập</div>
                <div class="cashflow-bar income"><div class="bar-fill" style="width:100%"></div></div>
                <div class="cashflow-value income-text">+45tr</div>
              </div>
              <div class="cashflow-item">
                <div class="cashflow-label">Chi tiêu</div>
                <div class="cashflow-bar expense"><div class="bar-fill" style="width:65%"></div></div>
                <div class="cashflow-value expense-text">-29tr</div>
              </div>
              <div class="cashflow-item">
                <div class="cashflow-label">Tiết kiệm</div>
                <div class="cashflow-bar saving"><div class="bar-fill" style="width:35%"></div></div>
                <div class="cashflow-value saving-text">+16tr</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Tài sản ngân hàng -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-bank"></i> Tài sản ngân hàng</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="bank-item"><span>Số dư TK thanh toán</span><span class="bank-value">125,000,000đ</span></div>
            <div class="bank-item"><span>Tiết kiệm</span><span class="bank-value">850,000,000đ</span></div>
            <div class="bank-item"><span>Dư nợ tín dụng</span><span class="bank-value negative">-15,000,000đ</span></div>
            <div class="bank-item"><span>Dư nợ vay</span><span class="bank-value negative">-1,200,000,000đ</span></div>
          </div>
        </div>

        <!-- Widget: Điểm Loyalty -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-star"></i> Điểm Loyalty hệ sinh thái</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="loyalty-total">
              <div class="loyalty-points">18,750</div>
              <div class="loyalty-label">tổng điểm tích lũy</div>
            </div>
            <div class="loyalty-breakdown">
              <div class="loyalty-source">
                <span class="source-icon"><i class="ph-duotone ph-bank"></i></span>
                <span class="source-name">Techcombank</span>
                <div class="source-bar"><div class="source-fill" style="width:55%; background:#c41e3a;"></div></div>
                <span class="source-points">10,250</span>
              </div>
              <div class="loyalty-source">
                <span class="source-icon"><i class="ph-duotone ph-storefront"></i></span>
                <span class="source-name">OneMOUNT</span>
                <div class="source-bar"><div class="source-fill" style="width:30%; background:#1a5f7a;"></div></div>
                <span class="source-points">5,500</span>
              </div>
              <div class="loyalty-source">
                <span class="source-icon"><i class="ph-duotone ph-house-line"></i></span>
                <span class="source-name">Masterise</span>
                <div class="source-bar"><div class="source-fill" style="width:15%; background:#d4a574;"></div></div>
                <span class="source-points">3,000</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: BĐS -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-house-line"></i> Bất động sản</span>
            <span class="widget-badge">Masterise</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="bds-summary">
              <div class="bds-count">2</div>
              <div class="bds-label">tài sản sở hữu</div>
            </div>
            <div class="bds-list">
              <div class="bds-item">
                <div class="bds-name">Masteri Centre Point - T2.1205</div>
                <div class="bds-detail">2PN • 72m² • Đã bàn giao</div>
                <div class="bds-price">~3.2 tỷ</div>
              </div>
              <div class="bds-item">
                <div class="bds-name">Grand Marina Saigon - A.2508</div>
                <div class="bds-detail">3PN • 98m² • Q4/2025 bàn giao</div>
                <div class="bds-price">~8.5 tỷ</div>
              </div>
            </div>
            <div class="bds-total">Tổng giá trị: <strong>~11.7 tỷ</strong></div>
          </div>
        </div>

        <!-- Widget: Sản phẩm đang sử dụng -->
        <div class="widget widget-large" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-package"></i> Sản phẩm đang sử dụng</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="products-grid">
              <div class="product-used">
                <div class="product-used-icon"><i class="ph-duotone ph-credit-card"></i></div>
                <div class="product-used-info">
                  <div class="product-used-name">Thẻ Visa Platinum</div>
                  <div class="product-used-source">Techcombank</div>
                </div>
                <div class="product-used-status active">Đang hoạt động</div>
              </div>
              <div class="product-used">
                <div class="product-used-icon"><i class="ph-duotone ph-piggy-bank"></i></div>
                <div class="product-used-info">
                  <div class="product-used-name">Tiết kiệm Online 12 tháng</div>
                  <div class="product-used-source">Techcombank</div>
                </div>
                <div class="product-used-status active">850tr • 6.2%/năm</div>
              </div>
              <div class="product-used">
                <div class="product-used-icon"><i class="ph-duotone ph-shield-check"></i></div>
                <div class="product-used-info">
                  <div class="product-used-name">Bảo hiểm An Tâm Gia Đình</div>
                  <div class="product-used-source">Techcombank Insurance</div>
                </div>
                <div class="product-used-status active">Còn hiệu lực</div>
              </div>
              <div class="product-used">
                <div class="product-used-icon"><i class="ph-duotone ph-storefront"></i></div>
                <div class="product-used-info">
                  <div class="product-used-name">VinID Premium</div>
                  <div class="product-used-source">OneMOUNT</div>
                </div>
                <div class="product-used-status active">Hạng Vàng</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Nhắc nợ -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-calendar-check"></i> Lịch thanh toán</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="debt-reminder">
              <div class="debt-item upcoming">
                <div class="debt-date">
                  <div class="debt-day">15</div>
                  <div class="debt-month">Th01</div>
                </div>
                <div class="debt-info">
                  <div class="debt-name">Thẻ tín dụng Visa</div>
                  <div class="debt-detail">Sao kê tháng 12/2025</div>
                </div>
                <div class="debt-amount">15,000,000đ</div>
              </div>
              <div class="debt-item">
                <div class="debt-date">
                  <div class="debt-day">25</div>
                  <div class="debt-month">Th01</div>
                </div>
                <div class="debt-info">
                  <div class="debt-name">Vay mua nhà Masterise</div>
                  <div class="debt-detail">Kỳ 24/120 • Còn 96 kỳ</div>
                </div>
                <div class="debt-amount">28,500,000đ</div>
              </div>
              <div class="debt-item">
                <div class="debt-date">
                  <div class="debt-day">05</div>
                  <div class="debt-month">Th02</div>
                </div>
                <div class="debt-info">
                  <div class="debt-name">Bảo hiểm nhân thọ</div>
                  <div class="debt-detail">Phí năm 2026</div>
                </div>
                <div class="debt-amount">6,000,000đ</div>
              </div>
            </div>
            <div class="debt-summary">
              <span>Tổng thanh toán tháng 01:</span>
              <strong>43,500,000đ</strong>
            </div>
          </div>
        </div>

        <!-- Widget: Kế hoạch trả nợ -->
        <div class="widget" draggable="true">
          <div class="widget-header">
            <span class="widget-title"><i class="ph-duotone ph-chart-line-down"></i> Kế hoạch trả nợ</span>
            <span class="widget-drag">⋮⋮</span>
          </div>
          <div class="widget-content">
            <div class="loan-plan">
              <div class="loan-item">
                <div class="loan-header">
                  <span class="loan-name">Vay mua nhà Masterise</span>
                  <span class="loan-remaining">Còn 1.08 tỷ</span>
                </div>
                <div class="loan-progress">
                  <div class="loan-bar"><div class="loan-fill" style="width:20%"></div></div>
                  <span class="loan-percent">20%</span>
                </div>
                <div class="loan-detail">
                  <span>Đã trả: 270tr</span>
                  <span>Hoàn thành: 12/2033</span>
                </div>
              </div>
              <div class="loan-item">
                <div class="loan-header">
                  <span class="loan-name">Thẻ tín dụng</span>
                  <span class="loan-remaining">15tr</span>
                </div>
                <div class="loan-progress">
                  <div class="loan-bar"><div class="loan-fill" style="width:100%"></div></div>
                  <span class="loan-percent">100%</span>
                </div>
                <div class="loan-detail">
                  <span>Hạn mức: 50tr</span>
                  <span>Hạn thanh toán: 15/01</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search Results Page -->
    <div class="page" id="page-search">
      <div class="search-page-header">
        <div class="search-back" onclick="showPage('home')"><i class="ph-duotone ph-arrow-left"></i></div>
        <div class="search-input-wrap">
          <input type="text" class="search-page-input" id="searchPageInput" placeholder="Tìm kiếm sản phẩm..." oninput="filterSearchPage()">
        </div>
      </div>
      
      <div class="search-filters">
        <span class="filter-chip active" onclick="filterByType('all', this)">Tất cả</span>
        <span class="filter-chip" onclick="filterByType('loan', this)">Tài trợ</span>
        <span class="filter-chip" onclick="filterByType('card', this)">Thẻ</span>
        <span class="filter-chip" onclick="filterByType('saving', this)">Tiết kiệm</span>
        <span class="filter-chip" onclick="filterByType('insurance', this)">Bảo hiểm</span>
        <span class="filter-chip" onclick="filterByType('realestate', this)">BĐS</span>
      </div>

      <div class="search-results-count" id="searchResultsCount">6 sản phẩm được tìm thấy</div>

      <div class="search-results-grid" id="searchResultsGrid">
        <div class="search-result-card" data-type="loan">
          <div class="result-card-img loan"><i class="ph-duotone ph-house-line"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">Tài trợ • Techcombank x Masterise</div>
            <div class="result-card-name">Vay mua nhà Masterise</div>
            <div class="result-card-desc">Lãi suất 0% năm đầu, hỗ trợ đến 80% giá trị BĐS</div>
            <div class="result-card-price">Lãi từ 7.5%/năm</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết & Kế hoạch trả nợ</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin sản phẩm</div>
                <div class="detail-row"><span>Hạn mức vay</span><span>Tối đa 80% giá trị BĐS</span></div>
                <div class="detail-row"><span>Thời hạn vay</span><span>5 - 25 năm</span></div>
                <div class="detail-row"><span>Lãi suất năm đầu</span><span class="highlight">0%</span></div>
                <div class="detail-row"><span>Lãi suất từ năm 2</span><span>7.5%/năm</span></div>
                <div class="detail-row"><span>Phí trả nợ trước hạn</span><span>1% dư nợ</span></div>
              </div>
              <div class="detail-section">
                <div class="detail-title"><i class="ph-duotone ph-calculator"></i> Giả lập kế hoạch trả nợ</div>
                <div class="loan-sim-form">
                  <div class="sim-row">
                    <div class="sim-field"><label>Số tiền vay</label><input type="text" value="2,000,000,000" oninput="calcLoan(this)"></div>
                    <div class="sim-field"><label>Thời hạn</label>
                      <select onchange="calcLoan(this)"><option value="5">5 năm</option><option value="10" selected>10 năm</option><option value="15">15 năm</option><option value="20">20 năm</option><option value="25">25 năm</option></select>
                    </div>
                    <div class="sim-field"><label>Lãi suất</label><input type="text" value="7.5" oninput="calcLoan(this)"></div>
                  </div>
                </div>
                <div class="loan-sim-result">
                  <div class="sim-result-box"><div class="sim-val">23.7tr</div><div class="sim-lbl">Trả/tháng</div></div>
                  <div class="sim-result-box"><div class="sim-val">844tr</div><div class="sim-lbl">Tổng lãi</div></div>
                  <div class="sim-result-box highlight"><div class="sim-val">2.84 tỷ</div><div class="sim-lbl">Tổng trả</div></div>
                </div>
                <div class="loan-schedule-mini">
                  <div class="schedule-mini-title">Lịch trả nợ dự kiến</div>
                  <div class="schedule-mini-table">
                    <div class="sch-header"><span>Kỳ</span><span>Gốc</span><span>Lãi</span><span>Tổng</span><span>Còn lại</span></div>
                    <div class="sch-row"><span>1</span><span>10.3tr</span><span>12.5tr</span><span>22.8tr</span><span>1.99 tỷ</span></div>
                    <div class="sch-row"><span>2</span><span>10.4tr</span><span>12.4tr</span><span>22.8tr</span><span>1.98 tỷ</span></div>
                    <div class="sch-row"><span>3</span><span>10.5tr</span><span>12.3tr</span><span>22.8tr</span><span>1.97 tỷ</span></div>
                    <div class="sch-row"><span>...</span><span>...</span><span>...</span><span>...</span><span>...</span></div>
                    <div class="sch-row"><span>120</span><span>22.6tr</span><span>0.2tr</span><span>22.8tr</span><span>0</span></div>
                  </div>
                </div>
              </div>
              <button class="btn-apply-product">Đăng ký ngay</button>
            </div>
          </div>
        </div>

        <div class="search-result-card" data-type="loan">
          <div class="result-card-img loan"><i class="ph-duotone ph-car-profile"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">Tài trợ • Techcombank x VinFast</div>
            <div class="result-card-name">Vay mua xe VinFast</div>
            <div class="result-card-desc">Trả góp 0% trong 12 tháng đầu, duyệt nhanh 24h</div>
            <div class="result-card-price">Lãi từ 6.5%/năm</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết & Kế hoạch trả nợ</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin sản phẩm</div>
                <div class="detail-row"><span>Hạn mức vay</span><span>Tối đa 85% giá xe</span></div>
                <div class="detail-row"><span>Thời hạn vay</span><span>1 - 7 năm</span></div>
                <div class="detail-row"><span>Lãi suất năm đầu</span><span class="highlight">0%</span></div>
                <div class="detail-row"><span>Lãi suất từ năm 2</span><span>6.5%/năm</span></div>
              </div>
              <div class="detail-section">
                <div class="detail-title"><i class="ph-duotone ph-calculator"></i> Giả lập kế hoạch trả nợ</div>
                <div class="loan-sim-form">
                  <div class="sim-row">
                    <div class="sim-field"><label>Số tiền vay</label><input type="text" value="500,000,000" oninput="calcLoan(this)"></div>
                    <div class="sim-field"><label>Thời hạn</label>
                      <select onchange="calcLoan(this)"><option value="3">3 năm</option><option value="5" selected>5 năm</option><option value="7">7 năm</option></select>
                    </div>
                    <div class="sim-field"><label>Lãi suất</label><input type="text" value="6.5" oninput="calcLoan(this)"></div>
                  </div>
                </div>
                <div class="loan-sim-result">
                  <div class="sim-result-box"><div class="sim-val">9.8tr</div><div class="sim-lbl">Trả/tháng</div></div>
                  <div class="sim-result-box"><div class="sim-val">88tr</div><div class="sim-lbl">Tổng lãi</div></div>
                  <div class="sim-result-box highlight"><div class="sim-val">588tr</div><div class="sim-lbl">Tổng trả</div></div>
                </div>
                <div class="loan-schedule-mini">
                  <div class="schedule-mini-title">Lịch trả nợ dự kiến</div>
                  <div class="schedule-mini-table">
                    <div class="sch-header"><span>Kỳ</span><span>Gốc</span><span>Lãi</span><span>Tổng</span><span>Còn lại</span></div>
                    <div class="sch-row"><span>1</span><span>7.1tr</span><span>2.7tr</span><span>9.8tr</span><span>493tr</span></div>
                    <div class="sch-row"><span>2</span><span>7.1tr</span><span>2.7tr</span><span>9.8tr</span><span>486tr</span></div>
                    <div class="sch-row"><span>...</span><span>...</span><span>...</span><span>...</span><span>...</span></div>
                    <div class="sch-row"><span>60</span><span>9.7tr</span><span>0.1tr</span><span>9.8tr</span><span>0</span></div>
                  </div>
                </div>
              </div>
              <button class="btn-apply-product">Đăng ký ngay</button>
            </div>
          </div>
        </div>

        <div class="search-result-card" data-type="card">
          <div class="result-card-img card"><i class="ph-duotone ph-credit-card"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">Thẻ • Techcombank</div>
            <div class="result-card-name">Thẻ tín dụng VinMart</div>
            <div class="result-card-desc">Hoàn tiền 5% khi mua sắm tại VinMart</div>
            <div class="result-card-price">Miễn phí năm đầu</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin sản phẩm</div>
                <div class="detail-row"><span>Hạn mức</span><span>20 - 500 triệu</span></div>
                <div class="detail-row"><span>Hoàn tiền VinMart</span><span class="highlight">5%</span></div>
                <div class="detail-row"><span>Tích điểm VinID</span><span>x2 điểm</span></div>
                <div class="detail-row"><span>Phí thường niên</span><span>Miễn phí năm đầu</span></div>
                <div class="detail-row"><span>Lãi suất</span><span>1.5%/tháng</span></div>
              </div>
              <button class="btn-apply-product">Mở thẻ ngay</button>
            </div>
          </div>
        </div>

        <div class="search-result-card" data-type="saving">
          <div class="result-card-img saving"><i class="ph-duotone ph-piggy-bank"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">Tiết kiệm • Techcombank</div>
            <div class="result-card-name">Tiết kiệm Online</div>
            <div class="result-card-desc">Gửi từ 10 triệu, rút linh hoạt</div>
            <div class="result-card-price">Lãi suất 6.5%/năm</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin sản phẩm</div>
                <div class="detail-row"><span>Số tiền tối thiểu</span><span>10 triệu</span></div>
                <div class="detail-row"><span>Kỳ hạn</span><span>1 - 36 tháng</span></div>
                <div class="detail-row"><span>Lãi suất 12 tháng</span><span class="highlight">6.5%/năm</span></div>
                <div class="detail-row"><span>Trả lãi</span><span>Cuối kỳ hoặc hàng tháng</span></div>
              </div>
              <button class="btn-apply-product">Gửi tiết kiệm</button>
            </div>
          </div>
        </div>

        <div class="search-result-card" data-type="insurance">
          <div class="result-card-img insurance"><i class="ph-duotone ph-shield-check"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">Bảo hiểm • Techcombank</div>
            <div class="result-card-name">Bảo hiểm An Tâm Gia Đình</div>
            <div class="result-card-desc">Bảo vệ toàn diện cho cả gia đình 3 thế hệ</div>
            <div class="result-card-price">Từ 500K/tháng</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin sản phẩm</div>
                <div class="detail-row"><span>Quyền lợi tử vong</span><span>500 triệu - 5 tỷ</span></div>
                <div class="detail-row"><span>Chi phí y tế</span><span>Đến 1 tỷ/năm</span></div>
                <div class="detail-row"><span>Số người được bảo vệ</span><span>Đến 6 người</span></div>
                <div class="detail-row"><span>Thời hạn hợp đồng</span><span>10 - 30 năm</span></div>
              </div>
              <button class="btn-apply-product">Tư vấn ngay</button>
            </div>
          </div>
        </div>

        <div class="search-result-card" data-type="realestate">
          <div class="result-card-img realestate"><i class="ph-duotone ph-buildings"></i></div>
          <div class="result-card-body">
            <div class="result-card-tag">BĐS • Masterise Homes</div>
            <div class="result-card-name">Căn hộ Grand Marina Saigon</div>
            <div class="result-card-desc">Căn hộ hạng sang tại trung tâm Q1</div>
            <div class="result-card-price">Từ 8.5 tỷ</div>
            <button class="btn-expand" onclick="toggleProductDetail(this)"><i class="ph-duotone ph-caret-down"></i> Xem chi tiết</button>
            <div class="product-detail-expand">
              <div class="detail-section">
                <div class="detail-title">Thông tin dự án</div>
                <div class="detail-row"><span>Vị trí</span><span>Quận 1, TP.HCM</span></div>
                <div class="detail-row"><span>Diện tích</span><span>68 - 150 m²</span></div>
                <div class="detail-row"><span>Bàn giao</span><span>Q1/2026</span></div>
                <div class="detail-row"><span>Thanh toán</span><span>30% đến khi nhận nhà</span></div>
                <div class="detail-row"><span>Hỗ trợ vay</span><span class="highlight">Lãi 0% đến nhận nhà</span></div>
              </div>
              <button class="btn-apply-product">Đặt lịch tham quan</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Marketplace Page -->
    <div class="page" id="page-marketplace">
      <div class="marketplace-header">
        <h2 class="section-title">🛍️ Marketplace - Sản phẩm dành riêng cho bạn</h2>
      </div>

      <!-- Bubble needs -->
      <div class="needs-section">
        <div class="needs-title">✨ Gợi ý dành riêng cho bạn</div>
        <div class="needs-bubbles">
          <span class="bubble active large"><i class="ph-duotone ph-credit-card"></i> Hoàn 5% khi đi chợ VinMart</span>
          <span class="bubble active large"><i class="ph-duotone ph-shield-check"></i> Bảo vệ gia đình 3 thế hệ</span>
          <span class="bubble active large"><i class="ph-duotone ph-house-line"></i> Lãi 0% năm đầu mua nhà Masterise</span>
          <span class="bubble active large"><i class="ph-duotone ph-piggy-bank"></i> Lãi suất 6.5% cho 10tr/tháng</span>
          <span class="bubble"><i class="ph-duotone ph-gift"></i> Tích điểm x2 VinID mỗi giao dịch</span>
          <span class="bubble"><i class="ph-duotone ph-baby"></i> Tích lũy học phí cho con từ sớm</span>
          <span class="bubble"><i class="ph-duotone ph-heart"></i> Chi trả viện phí cho cha mẹ</span>
          <span class="bubble"><i class="ph-duotone ph-buildings"></i> Vay đến 80% giá trị BĐS</span>
        </div>
      </div>

      <!-- Product Categories -->
      <div class="marketplace-grid">
        <!-- Bảo hiểm nhân thọ -->
        <div class="product-category">
          <div class="category-header">
            <span class="category-title"><i class="ph-duotone ph-shield-check"></i> Bảo hiểm nhân thọ</span>
            <span class="category-match">Giá trị: <strong>An tâm cho cả gia đình 3 thế hệ</strong></span>
          </div>
          <div class="product-list">
            <div class="product-card">
              <div class="product-badge">Hot</div>
              <div class="product-img"><i class="ph-duotone ph-shield-check"></i></div>
              <div class="product-name">Bảo hiểm An Tâm Gia Đình</div>
              <div class="product-desc">Bảo vệ toàn diện cho cả gia đình 3 thế hệ</div>
              <div class="product-price">Từ 500K/tháng</div>
              <button class="product-btn">Tìm hiểu</button>
            </div>
            <div class="product-card">
              <div class="product-img"><i class="ph-duotone ph-heart"></i></div>
              <div class="product-name">Bảo hiểm Hiếu Thảo</div>
              <div class="product-desc">Chăm sóc sức khỏe cha mẹ, chi trả viện phí</div>
              <div class="product-price">Từ 300K/tháng</div>
              <button class="product-btn">Tìm hiểu</button>
            </div>
            <div class="product-card">
              <div class="product-img"><i class="ph-duotone ph-baby"></i></div>
              <div class="product-name">Bảo hiểm Tương Lai Con</div>
              <div class="product-desc">Tích lũy học phí + bảo vệ sức khỏe con</div>
              <div class="product-price">Từ 1tr/tháng</div>
              <button class="product-btn">Tìm hiểu</button>
            </div>
          </div>
        </div>

        <!-- Vay mua nhà -->
        <div class="product-category">
          <div class="category-header">
            <span class="category-title"><i class="ph-duotone ph-house-line"></i> Vay mua nhà</span>
            <span class="category-match">Giá trị: <strong>Tiết kiệm 200tr+ lãi năm đầu</strong></span>
          </div>
          <div class="product-list">
            <div class="product-card">
              <div class="product-badge">Ưu đãi</div>
              <div class="product-img"><i class="ph-duotone ph-buildings"></i></div>
              <div class="product-name">Vay mua căn hộ Masterise</div>
              <div class="product-desc">Lãi suất 0% năm đầu, hỗ trợ 80% giá trị</div>
              <div class="product-price">Lãi từ 7.5%/năm</div>
              <button class="product-btn">Đăng ký</button>
            </div>
            <div class="product-card">
              <div class="product-img"><i class="ph-duotone ph-buildings"></i></div>
              <div class="product-name">Vay mua nhà phố</div>
              <div class="product-desc">Thời hạn đến 25 năm, giải ngân nhanh</div>
              <div class="product-price">Lãi từ 8%/năm</div>
              <button class="product-btn">Đăng ký</button>
            </div>
          </div>
        </div>

        <!-- Thẻ tín dụng -->
        <div class="product-category">
          <div class="category-header">
            <span class="category-title"><i class="ph-duotone ph-credit-card"></i> Thẻ tín dụng</span>
            <span class="category-match">Giá trị: <strong>Tiết kiệm đến 2tr/tháng khi đi chợ</strong></span>
          </div>
          <div class="product-list">
            <div class="product-card">
              <div class="product-badge">Độc quyền</div>
              <div class="product-img"><i class="ph-duotone ph-credit-card"></i></div>
              <div class="product-name">Thẻ Techcombank VinMart</div>
              <div class="product-desc">Hoàn tiền 5% tại VinMart, tích điểm x2 VinID</div>
              <div class="product-price">Miễn phí năm đầu</div>
              <button class="product-btn">Mở thẻ</button>
            </div>
            <div class="product-card">
              <div class="product-img"><i class="ph-duotone ph-sparkle"></i></div>
              <div class="product-name">Thẻ Platinum Cashback</div>
              <div class="product-desc">Hoàn tiền 1% mọi giao dịch, không giới hạn</div>
              <div class="product-price">Phí 500K/năm</div>
              <button class="product-btn">Mở thẻ</button>
            </div>
          </div>
        </div>

        <!-- Gửi tiết kiệm -->
        <div class="product-category">
          <div class="category-header">
            <span class="category-title"><i class="ph-duotone ph-piggy-bank"></i> Gửi tiết kiệm</span>
            <span class="category-match">Giá trị: <strong>Sinh lời 7.8tr/năm với 10tr/tháng</strong></span>
          </div>
          <div class="product-list">
            <div class="product-card">
              <div class="product-badge">Lãi cao</div>
              <div class="product-img"><i class="ph-duotone ph-trend-up"></i></div>
              <div class="product-name">Tiết kiệm Online</div>
              <div class="product-desc">Gửi từ 10tr, rút linh hoạt, lãi nhập gốc</div>
              <div class="product-price">Lãi suất 6.2%/năm</div>
              <button class="product-btn">Gửi ngay</button>
            </div>
            <div class="product-card">
              <div class="product-img"><i class="ph-duotone ph-target"></i></div>
              <div class="product-name">Tiết kiệm Mục tiêu</div>
              <div class="product-desc">Tự động trích 10tr/tháng, thưởng khi đạt mục tiêu</div>
              <div class="product-price">Lãi suất 6.5%/năm</div>
              <button class="product-btn">Tạo mục tiêu</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Page -->
    <div class="page" id="page-profile">
      <div class="profile-header">
        <div class="profile-avatar"><i class="ph-duotone ph-user"></i></div>
        <div style="flex:1;">
          <div class="profile-name">Nguyễn Văn A</div>
          <div class="profile-email">nguyenvana@email.com</div>
        </div>
        <div class="profile-completion">
          <div class="completion-text"><span class="completion-percent">45%</span> hoàn thành</div>
          <div class="completion-bar"><div class="completion-fill" style="width:45%"></div></div>
          <div class="completion-hint">Hoàn thành hồ sơ để nhận ưu đãi độc quyền!</div>
        </div>
      </div>

      <div class="profile-benefits">
        <div class="benefit-item link-cta">
          <div class="link-cta-text"><i class="ph-duotone ph-link"></i> <strong>Liên kết tài khoản ngay</strong> - Đồng bộ dữ liệu, nhận ưu đãi độc quyền từ hệ sinh thái!</div>
          <button class="btn-link-now" onclick="showPage('profile'); showProfileTab('linked');">Liên kết ngay</button>
        </div>
        <div class="benefit-item"><i class="ph-duotone ph-gift"></i> <strong>Ưu đãi cá nhân hóa</strong> khi hoàn thành 70%</div>
        <div class="benefit-item"><i class="ph-duotone ph-star"></i> <strong>Tư vấn tài chính miễn phí</strong> khi hoàn thành 100%</div>
      </div>

      <div class="profile-tabs">
        <button class="profile-tab active" onclick="showProfileTab('kyc')">
          <span class="tab-icon"><i class="ph-duotone ph-clipboard-text"></i></span> KYC
          <span class="tab-status complete">✓</span>
        </button>
        <button class="profile-tab" onclick="showProfileTab('demographic')">
          <span class="tab-icon"><i class="ph-duotone ph-users"></i></span> Nhân khẩu học
          <span class="tab-status complete">✓</span>
        </button>
        <button class="profile-tab" onclick="showProfileTab('extended')">
          <span class="tab-icon"><i class="ph-duotone ph-gear"></i></span> Mở rộng
          <span class="tab-status pending">!</span>
        </button>
        <button class="profile-tab" onclick="showProfileTab('linked')">
          <span class="tab-icon"><i class="ph-duotone ph-link"></i></span> Liên kết
          <span class="tab-status pending">!</span>
        </button>
        <button class="profile-tab" onclick="showProfileTab('privacy')">
          <span class="tab-icon"><i class="ph-duotone ph-lock"></i></span> Quyền riêng tư
          <span class="tab-status complete">✓</span>
        </button>
      </div>

      <div id="tab-kyc" class="profile-tab-content">
        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Thông tin KYC</div>
            <span class="badge-complete">✓ Đã hoàn thành</span>
          </div>
          <div class="info-row"><span class="info-label">Họ và tên</span><span class="info-value">Nguyễn Văn A</span></div>
          <div class="info-row"><span class="info-label">CCCD/CMND</span><span class="info-value">079091001234</span></div>
          <div class="info-row"><span class="info-label">Ngày sinh</span><span class="info-value">15/03/1991 (35 tuổi)</span></div>
          <div class="info-row"><span class="info-label">Địa chỉ thường trú</span><span class="info-value">Chung cư Vinhomes Central Park, Bình Thạnh, TP.HCM</span></div>
        </div>
        
        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Thông tin gia đình</div>
          </div>
          <div class="info-row"><span class="info-label">Tình trạng hôn nhân</span><span class="info-value">Đã kết hôn</span></div>
          <div class="info-row"><span class="info-label">Số con</span><span class="info-value">2 con (Bé trai 10 tuổi, Bé gái 7 tuổi)</span></div>
          <div class="info-row"><span class="info-label">Cha mẹ bên nội</span><span class="info-value">Ông 65 tuổi, Bà 60 tuổi</span></div>
          <div class="info-row"><span class="info-label">Cha mẹ bên ngoại</span><span class="info-value">Ông 80 tuổi, Bà 78 tuổi</span></div>
          <div class="info-row"><span class="info-label">Số người phụ thuộc</span><span class="info-value">6 người (2 con + 4 cha mẹ)</span></div>
        </div>

        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Thông tin tài chính</div>
          </div>
          <div class="info-row"><span class="info-label">Thu nhập hàng tháng</span><span class="info-value" style="color:#4caf50;font-weight:600;">100,000,000đ</span></div>
          <div class="info-row"><span class="info-label">Chi phí sinh hoạt</span><span class="info-value" style="color:#c41e3a;">50,000,000đ/tháng</span></div>
          <div class="info-row"><span class="info-label">Tiết kiệm hàng tháng</span><span class="info-value" style="color:#1a5f7a;font-weight:600;">50,000,000đ (50%)</span></div>
        </div>

        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Tài sản hiện có</div>
          </div>
          <div class="info-row"><span class="info-label">Bất động sản</span><span class="info-value">Căn hộ chung cư 2PN (~3.5 tỷ)</span></div>
          <div class="info-row"><span class="info-label">Phương tiện</span><span class="info-value">1 xe ô tô (~800 triệu)</span></div>
          <div class="info-row"><span class="info-label">Tổng tài sản ước tính</span><span class="info-value" style="color:#1a5f7a;font-weight:600;">~4.3 tỷ</span></div>
        </div>
      </div>

      <div id="tab-demographic" class="profile-tab-content" style="display:none;">
        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Thông tin nhân khẩu học</div>
            <span class="badge-complete">✓ Đã hoàn thành</span>
          </div>
          
          <div class="form-section">
            <div class="form-section-title">Thông tin cá nhân</div>
            <div class="info-row"><span class="info-label">Giới tính</span><span class="info-value">Nam</span></div>
            <div class="info-row"><span class="info-label">Tuổi</span><span class="info-value">35 tuổi</span></div>
            <div class="info-row"><span class="info-label">Tình trạng hôn nhân</span><span class="info-value">Đã kết hôn</span></div>
            <div class="info-row"><span class="info-label">Trình độ học vấn</span><span class="info-value">Đại học</span></div>
          </div>

          <div class="form-section">
            <div class="form-section-title">Thông tin gia đình</div>
            <div class="info-row"><span class="info-label">Số con</span><span class="info-value">2 con</span></div>
            <div class="info-row"><span class="info-label">Con trai</span><span class="info-value">10 tuổi - Đang học lớp 5</span></div>
            <div class="info-row"><span class="info-label">Con gái</span><span class="info-value">7 tuổi - Đang học lớp 2</span></div>
            <div class="info-row"><span class="info-label">Cha mẹ bên nội</span><span class="info-value">Ông 65 tuổi (hưu trí), Bà 60 tuổi (hưu trí)</span></div>
            <div class="info-row"><span class="info-label">Cha mẹ bên ngoại</span><span class="info-value">Ông 80 tuổi (hưu trí), Bà 78 tuổi (hưu trí)</span></div>
            <div class="info-row"><span class="info-label">Tổng người phụ thuộc</span><span class="info-value" style="color:#c41e3a;font-weight:600;">6 người</span></div>
          </div>

          <div class="form-section">
            <div class="form-section-title">Thông tin nghề nghiệp & thu nhập</div>
            <div class="info-row"><span class="info-label">Nghề nghiệp</span><span class="info-value">Quản lý/Giám đốc</span></div>
            <div class="info-row"><span class="info-label">Lĩnh vực công tác</span><span class="info-value">Tài chính/Ngân hàng</span></div>
            <div class="info-row"><span class="info-label">Thâm niên công tác</span><span class="info-value">Trên 10 năm</span></div>
            <div class="info-row"><span class="info-label">Thu nhập hàng tháng</span><span class="info-value" style="color:#4caf50;font-weight:600;">100,000,000đ</span></div>
            <div class="info-row"><span class="info-label">Nguồn thu nhập</span><span class="info-value">Lương + Đầu tư</span></div>
          </div>

          <div class="form-section">
            <div class="form-section-title">Tình hình tài chính</div>
            <div class="info-row"><span class="info-label">Chi tiêu hàng tháng</span><span class="info-value" style="color:#c41e3a;">50,000,000đ</span></div>
            <div class="info-row"><span class="info-label">Tỷ lệ tiết kiệm</span><span class="info-value" style="color:#1a5f7a;font-weight:600;">50% (50tr/tháng)</span></div>
            <div class="info-row"><span class="info-label">Tình trạng nhà ở</span><span class="info-value">Sở hữu - Căn hộ chung cư 2PN (~3.5 tỷ)</span></div>
            <div class="info-row"><span class="info-label">Phương tiện</span><span class="info-value">Ô tô - Phân khúc trung cấp (~800 triệu)</span></div>
            <div class="info-row"><span class="info-label">Các khoản nợ</span><span class="info-value">Không có nợ</span></div>
          </div>

          <button class="btn-update" onclick="alert('Thông tin đã được cập nhật!')">Chỉnh sửa thông tin</button>
        </div>
      </div>

      <div id="tab-extended" class="profile-tab-content" style="display:none;">
        <div class="info-group">
          <div class="form-section">
            <div class="form-section-title"><i class="ph-duotone ph-target"></i> Mục tiêu tài chính</div>
            <div class="form-group">
              <label>Trong 3-5 năm tới, điều gì quan trọng nhất với bạn về mặt tài chính?</label>
              <textarea class="form-textarea" placeholder="Ví dụ: Mua nhà cho gia đình, tích lũy cho con du học, nghỉ hưu sớm..."></textarea>
            </div>
            <div class="form-group">
              <label>Bạn mong muốn đạt được mức tài sản tích lũy bao nhiêu trong 5 năm tới?</label>
              <select><option>Dưới 500 triệu</option><option>500 triệu - 1 tỷ</option><option>1-3 tỷ</option><option>3-5 tỷ</option><option>Trên 5 tỷ</option></select>
            </div>
          </div>

          <div class="form-section">
            <div class="form-section-title"><i class="ph-duotone ph-users-three"></i> Kế hoạch gia đình</div>
            <div class="form-group">
              <label>Bạn có kế hoạch gì cho gia đình trong thời gian tới? (kết hôn, sinh con, cho con đi học...)</label>
              <textarea class="form-textarea" placeholder="Chia sẻ kế hoạch của bạn..."></textarea>
            </div>
            <div class="form-group">
              <label>Bạn đang lo lắng điều gì nhất về tài chính gia đình?</label>
              <div class="checkbox-group">
                <label><input type="checkbox"> Chi phí giáo dục con cái</label>
                <label><input type="checkbox"> Chi phí y tế/sức khỏe</label>
                <label><input type="checkbox"> Tích lũy hưu trí</label>
                <label><input type="checkbox"> Rủi ro mất thu nhập</label>
                <label><input type="checkbox"> Lạm phát</label>
              </div>
            </div>
          </div>

          <div class="form-section">
            <div class="form-section-title"><i class="ph-duotone ph-piggy-bank"></i> Thói quen & Quan điểm tài chính</div>
            <div class="form-group">
              <label>Bạn thường làm gì với khoản tiền dư mỗi tháng?</label>
              <select><option>Gửi tiết kiệm ngân hàng</option><option>Đầu tư chứng khoán/quỹ</option><option>Mua vàng/BĐS</option><option>Chưa có kế hoạch cụ thể</option><option>Khác</option></select>
            </div>
            <div class="form-group">
              <label>Khi đầu tư, bạn ưu tiên điều gì hơn?</label>
              <select><option>An toàn vốn, lãi suất ổn định</option><option>Cân bằng giữa rủi ro và lợi nhuận</option><option>Chấp nhận rủi ro cao để có lợi nhuận cao</option></select>
            </div>
            <div class="form-group">
              <label>Bạn đã từng trải qua khó khăn tài chính nào chưa? Điều đó ảnh hưởng thế nào đến cách bạn quản lý tiền?</label>
              <textarea class="form-textarea" placeholder="Chia sẻ kinh nghiệm của bạn (không bắt buộc)..."></textarea>
            </div>
          </div>

          <div class="form-section">
            <div class="form-section-title"><i class="ph-duotone ph-bank"></i> Trải nghiệm dịch vụ tài chính</div>
            <div class="form-group">
              <label>Điều gì khiến bạn chưa hài lòng với dịch vụ ngân hàng/tài chính hiện tại?</label>
              <textarea class="form-textarea" placeholder="Ví dụ: Thủ tục phức tạp, lãi suất chưa cạnh tranh, thiếu tư vấn..."></textarea>
            </div>
            <div class="form-group">
              <label>Bạn mong muốn được hỗ trợ như thế nào từ chuyên viên tài chính?</label>
              <div class="checkbox-group">
                <label><input type="checkbox"> Tư vấn định kỳ về danh mục đầu tư</label>
                <label><input type="checkbox"> Cập nhật cơ hội ưu đãi</label>
                <label><input type="checkbox"> Hỗ trợ lập kế hoạch tài chính</label>
                <label><input type="checkbox"> Chỉ liên hệ khi tôi cần</label>
              </div>
            </div>
          </div>

          <button class="btn-update">Lưu thông tin</button>
          <div class="privacy-note"><i class="ph-duotone ph-lock"></i> Thông tin chỉ được sử dụng để cá nhân hóa trải nghiệm của bạn</div>
        </div>
      </div>

      <div id="tab-linked" class="profile-tab-content" style="display:none;">
        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Liên kết tài khoản</div>
          </div>
          <div class="link-cards">
            <div class="link-card">
              <div class="link-icon"><i class="ph-duotone ph-bank"></i></div>
              <div class="link-info">
                <div class="link-title">Tài khoản ngân hàng</div>
                <div class="link-desc">Đồng bộ số dư, lịch sử giao dịch để phân tích tài chính</div>
                <div class="link-expand" onclick="toggleExpand(this)">Xem chi tiết ▼</div>
                <div class="link-details">
                  <div>• Số dư tài khoản thanh toán & tiết kiệm</div>
                  <div>• Lịch sử giao dịch 12 tháng gần nhất</div>
                  <div>• Thông tin khoản vay & thẻ tín dụng</div>
                  <div>• Phân tích chi tiêu tự động</div>
                </div>
              </div>
              <button class="btn-link">Liên kết</button>
            </div>
            <div class="link-card">
              <div class="link-icon"><i class="ph-duotone ph-star"></i></div>
              <div class="link-info">
                <div class="link-title">Tài khoản Loyalty</div>
                <div class="link-desc">Tích điểm, đổi thưởng từ VinID, OneMOUNT...</div>
                <div class="link-expand" onclick="toggleExpand(this)">Xem chi tiết ▼</div>
                <div class="link-details">
                  <div>• Điểm tích lũy VinID, OneMOUNT</div>
                  <div>• Lịch sử mua sắm & ưu đãi đã dùng</div>
                  <div>• Voucher & quà tặng khả dụng</div>
                  <div>• Hạng thành viên & quyền lợi</div>
                </div>
              </div>
              <button class="btn-link">Liên kết</button>
            </div>
            <div class="link-card">
              <div class="link-icon"><i class="ph-duotone ph-house-line"></i></div>
              <div class="link-info">
                <div class="link-title">Hợp đồng bất động sản</div>
                <div class="link-desc">Đồng bộ thông tin từ Masterise Homes</div>
                <div class="link-expand" onclick="toggleExpand(this)">Xem chi tiết ▼</div>
                <div class="link-details">
                  <div>• Thông tin hợp đồng mua bán</div>
                  <div>• Tiến độ thanh toán & bàn giao</div>
                  <div>• Giá trị tài sản hiện tại</div>
                  <div>• Ưu đãi nội bộ cư dân</div>
                </div>
              </div>
              <button class="btn-link">Liên kết</button>
            </div>
          </div>
          <div class="link-benefits">
            <div class="link-benefit-title">Lợi ích khi liên kết:</div>
            <div>✓ Tự động cập nhật thông tin tài chính</div>
            <div>✓ Nhận ưu đãi cross-platform từ hệ sinh thái</div>
            <div>✓ Quản lý tài sản tập trung một nơi</div>
          </div>
        </div>
      </div>

      <div id="tab-privacy" class="profile-tab-content" style="display:none;">
        <div class="info-group">
          <div class="info-group-header">
            <div class="info-group-title">Cài đặt quyền riêng tư & quảng cáo</div>
          </div>
          
          <div class="privacy-notice">
            <div class="notice-icon"><i class="ph-duotone ph-lightbulb"></i></div>
            <div class="notice-content">
              <strong>Lưu ý:</strong> Để bạn không bỏ lỡ các ưu đãi hấp dẫn, hệ thống sẽ <strong>tự động bật lại</strong> nhận quảng cáo sau <strong>2 tháng</strong> kể từ khi tắt. Bạn có thể tắt lại bất cứ lúc nào.
            </div>
          </div>

          <div class="privacy-section">
            <div class="privacy-section-title">Nhận thông tin quảng cáo từ hệ sinh thái</div>
            
            <div class="privacy-item">
              <div class="privacy-info">
                <img src="public/images/tech.png" alt="Techcombank" class="privacy-logo">
                <div>
                  <div class="privacy-name">Techcombank</div>
                  <div class="privacy-desc">Sản phẩm tài chính, thẻ tín dụng, vay, tiết kiệm</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="privacy-item">
              <div class="privacy-info">
                <img src="public/images/masterise.jpg" alt="Masterise" class="privacy-logo">
                <div>
                  <div class="privacy-name">Masterise Homes</div>
                  <div class="privacy-desc">Dự án bất động sản, căn hộ, ưu đãi cư dân</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="privacy-item">
              <div class="privacy-info">
                <img src="public/images/onemount.png" alt="OneMOUNT" class="privacy-logo">
                <div>
                  <div class="privacy-name">OneMOUNT (VinMart, VinID)</div>
                  <div class="privacy-desc">Khuyến mãi mua sắm, tích điểm, voucher</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-car"></i></span>
                <div>
                  <div class="privacy-name">VinFast</div>
                  <div class="privacy-desc">Ô tô điện, xe máy điện, ưu đãi đặc biệt</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-first-aid-kit"></i></span>
                <div>
                  <div class="privacy-name">Vinmec</div>
                  <div class="privacy-desc">Dịch vụ y tế, khám sức khỏe, bảo hiểm</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-graduation-cap"></i></span>
                <div>
                  <div class="privacy-name">Vinschool / VinUni</div>
                  <div class="privacy-desc">Giáo dục, tuyển sinh, học bổng</div>
                </div>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <div class="privacy-section">
            <div class="privacy-section-title">Kênh nhận thông tin</div>
            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-envelope"></i></span>
                <div><div class="privacy-name">Email</div></div>
              </div>
              <label class="toggle-switch"><input type="checkbox" checked><span class="toggle-slider"></span></label>
            </div>
            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-device-mobile"></i></span>
                <div><div class="privacy-name">SMS</div></div>
              </div>
              <label class="toggle-switch"><input type="checkbox"><span class="toggle-slider"></span></label>
            </div>
            <div class="privacy-item">
              <div class="privacy-info">
                <span class="privacy-icon"><i class="ph-duotone ph-bell"></i></span>
                <div><div class="privacy-name">Push notification</div></div>
              </div>
              <label class="toggle-switch"><input type="checkbox" checked><span class="toggle-slider"></span></label>
            </div>
          </div>

          <button class="btn-update">Lưu cài đặt</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Login Modal -->
  <div class="modal-overlay" id="loginModal">
    <div class="modal">
      <span class="modal-close" onclick="closeModal('loginModal')">&times;</span>
      <h2 class="modal-title">Đăng nhập</h2>
      <form>
        <div class="form-group"><label>Tên đăng nhập</label><input type="text" placeholder="Nhập tên đăng nhập"></div>
        <div class="form-group"><label>Mật khẩu</label><input type="password" placeholder="Nhập mật khẩu"></div>
        <button type="submit" class="btn-submit">Đăng nhập</button>
      </form>
      <div class="divider">hoặc đăng nhập với</div>
      <div class="sso-buttons">
        <button class="btn-sso">🔵 Google</button>
        <button class="btn-sso">🔷 Microsoft</button>
        <button class="btn-sso">🍎 Apple</button>
      </div>
    </div>
  </div>

  <!-- AI Assistant Modal -->
  <div class="modal-overlay" id="aiModal">
    <div class="modal modal-ai">
      <span class="modal-close" onclick="closeModal('aiModal')">&times;</span>
      <div class="ai-header">
        <div class="ai-avatar"><i class="ph-duotone ph-robot"></i></div>
        <div class="ai-greeting">Xin chào anh Nguyễn Văn A! Tôi là trợ lý tài chính của anh</div>
      </div>
      <div class="ai-search-box">
        <input type="text" class="ai-input" id="aiSearchInput" placeholder="Kể tôi nghe anh cần gì..." onkeypress="if(event.key==='Enter')goToSearchPage()">
        <button class="ai-send" onclick="goToSearchPage()">➤</button>
      </div>
      
      <div class="ai-profile-summary">
        <div class="ai-summary-title">📋 Hồ sơ của anh</div>
        <div class="ai-summary-grid">
          <div class="ai-summary-item"><span>👨‍👩‍👧‍👦</span> Gia đình 4 người + 4 cha mẹ</div>
          <div class="ai-summary-item"><span>💰</span> Thu nhập: 100tr/tháng</div>
          <div class="ai-summary-item"><span>🏠</span> Căn hộ 2PN + 1 xe hơi</div>
          <div class="ai-summary-item"><span>📈</span> Tiết kiệm: 50tr/tháng</div>
        </div>
      </div>

      <div class="ai-needs-section">
        <div class="ai-needs-title">🎯 Nhu cầu của anh</div>
        <div class="ai-needs-list">
          <div class="ai-need-item active">🎓 Cho con đi du học</div>
          <div class="ai-need-item active">🏥 Chăm sóc sức khỏe 3 thế hệ</div>
          <div class="ai-need-item active">📈 Tích lũy & đầu tư gia tăng tài sản</div>
          <div class="ai-need-item active">🏢 Vay mua nhà cho thuê</div>
          <div class="ai-need-item active">✈️ Du lịch gia đình mỗi năm</div>
        </div>
      </div>

      <div class="ai-recommendations">
        <div class="ai-rec-title">💡 Giải pháp đề xuất cho anh</div>
        <div class="ai-rec-list">
          <div class="ai-rec-card">
            <div class="ai-rec-icon">🛡️</div>
            <div class="ai-rec-content">
              <div class="ai-rec-name">Bảo hiểm TCB Life - An Tâm 3 Thế Hệ</div>
              <div class="ai-rec-desc">Bảo vệ toàn diện cho cả gia đình: 2 con nhỏ + 4 cha mẹ cao tuổi</div>
              <div class="ai-rec-benefit">✓ Chi trả viện phí không giới hạn cho cha mẹ 60-80 tuổi</div>
            </div>
          </div>
          <div class="ai-rec-card">
            <div class="ai-rec-icon">🎓</div>
            <div class="ai-rec-content">
              <div class="ai-rec-name">Tiết kiệm Du học - Education Plus</div>
              <div class="ai-rec-desc">Tích lũy học phí du học cho 2 con trong 8-10 năm</div>
              <div class="ai-rec-benefit">✓ Lãi suất 7%/năm + Thưởng khi đạt mục tiêu</div>
            </div>
          </div>
          <div class="ai-rec-card">
            <div class="ai-rec-icon">🏢</div>
            <div class="ai-rec-content">
              <div class="ai-rec-name">Vay mua BĐS cho thuê - Investor Home</div>
              <div class="ai-rec-desc">Vay đến 70% giá trị, lãi 0% năm đầu với Masterise</div>
              <div class="ai-rec-benefit">✓ Thu nhập thụ động 15-20tr/tháng từ cho thuê</div>
            </div>
          </div>
          <div class="ai-rec-card">
            <div class="ai-rec-icon">💳</div>
            <div class="ai-rec-content">
              <div class="ai-rec-name">Thẻ Visa Platinum Travel</div>
              <div class="ai-rec-desc">Hoàn tiền 5% du lịch, miễn phí phòng chờ sân bay</div>
              <div class="ai-rec-benefit">✓ Tích dặm bay cho cả gia đình 6 người</div>
            </div>
          </div>
          <div class="ai-rec-card">
            <div class="ai-rec-icon">🌍</div>
            <div class="ai-rec-content">
              <div class="ai-rec-name">Chuyển tiền quốc tế - Global Transfer</div>
              <div class="ai-rec-desc">Phí 0đ chuyển tiền du học, tỷ giá ưu đãi</div>
              <div class="ai-rec-benefit">✓ Chuẩn bị sẵn cho con du học tương lai</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="simulator-section" id="simulatorSection">
        <div class="simulator-title"><i class="ph-duotone ph-chart-line-up"></i> Giả lập tài chính của anh</div>
        <div class="simulator-grid">
          <div class="sim-item">
            <label>Thu nhập hàng tháng</label>
            <input type="text" class="sim-input" id="simIncome" value="100,000,000" oninput="updateSimulator()">
          </div>
          <div class="sim-item">
            <label>Chi tiêu hàng tháng</label>
            <input type="text" class="sim-input" id="simExpense" value="50,000,000" oninput="updateSimulator()">
          </div>
          <div class="sim-item">
            <label>Tiết kiệm hiện tại</label>
            <input type="text" class="sim-input" id="simSaving" value="500,000,000" oninput="updateSimulator()">
          </div>
          <div class="sim-item">
            <label>Mục tiêu (VD: BĐS cho thuê 5 tỷ)</label>
            <input type="text" class="sim-input" id="simGoal" value="5,000,000,000" oninput="updateSimulator()">
          </div>
        </div>
        <div class="sim-result">
          <div class="sim-result-title">Kết quả giả lập</div>
          <div class="sim-stats">
            <div class="sim-stat">
              <div class="sim-stat-value" id="simMonthly">50tr</div>
              <div class="sim-stat-label">Tiết kiệm/tháng</div>
            </div>
            <div class="sim-stat">
              <div class="sim-stat-value" id="simTime">~7.5 năm</div>
              <div class="sim-stat-label">Thời gian đạt mục tiêu</div>
            </div>
            <div class="sim-stat">
              <div class="sim-stat-value" id="simAdvice">Vay + Tiết kiệm</div>
              <div class="sim-stat-label">Gợi ý</div>
            </div>
          </div>
          <div class="sim-recommendation">
            <i class="ph-duotone ph-lightbulb"></i> <strong>Gợi ý:</strong> Với thu nhập 100tr/tháng và tiết kiệm 50%, anh có thể vay 3.5 tỷ mua BĐS cho thuê ngay, vừa trả góp vừa có thu nhập thụ động 15-20tr/tháng!
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Register Modal -->
  <div class="modal-overlay" id="registerModal">
    <div class="modal">
      <span class="modal-close" onclick="closeModal('registerModal')">&times;</span>
      <h2 class="modal-title">Đăng ký</h2>
      <div class="divider" style="margin-top:0;">Đăng ký nhanh với</div>
      <div class="sso-buttons">
        <button class="btn-sso">🔵 Google</button>
        <button class="btn-sso">🔷 Microsoft</button>
        <button class="btn-sso">🍎 Apple</button>
      </div>
      <div class="divider">hoặc đăng ký bằng</div>
      <div class="register-method">
        <button class="method-btn active" onclick="switchRegisterMethod('email')"><i class="ph-duotone ph-envelope"></i> Email</button>
        <button class="method-btn" onclick="switchRegisterMethod('phone')"><i class="ph-duotone ph-device-mobile"></i> Số điện thoại</button>
      </div>
      <form id="registerForm">
        <div class="form-group" id="emailField"><label>Email</label><input type="email" placeholder="Nhập email"></div>
        <div class="form-group" id="phoneField" style="display:none;"><label>Số điện thoại</label><input type="tel" placeholder="Nhập số điện thoại"></div>
        <div class="form-group"><label>Mật khẩu</label><input type="password" placeholder="Tạo mật khẩu"></div>
        <div class="form-group"><label>Xác nhận mật khẩu</label><input type="password" placeholder="Nhập lại mật khẩu"></div>
        <button type="submit" class="btn-submit">Đăng ký</button>
      </form>
    </div>
  </div>

  <!-- Demographic Modal -->
  <div class="modal-overlay" id="demographicModal">
    <div class="modal modal-large">
      <span class="modal-close" onclick="closeModal('demographicModal')">&times;</span>
      <h2 class="modal-title">Thông tin nhân khẩu học</h2>
      <div class="form-section">
        <div class="form-section-title">Thông tin cá nhân</div>
        <div class="form-row">
          <div class="form-group"><label>Giới tính</label>
            <select><option>Nam</option><option>Nữ</option><option>Khác</option></select>
          </div>
          <div class="form-group"><label>Tình trạng hôn nhân</label>
            <select><option>Độc thân</option><option>Đã kết hôn</option><option>Ly hôn</option><option>Góa</option></select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>Số người phụ thuộc</label>
            <select><option>0</option><option>1</option><option>2</option><option>3</option><option>4+</option></select>
          </div>
          <div class="form-group"><label>Trình độ học vấn</label>
            <select><option>THPT</option><option>Trung cấp/Cao đẳng</option><option>Đại học</option><option>Sau đại học</option></select>
          </div>
        </div>
      </div>
      <div class="form-section">
        <div class="form-section-title">Thông tin nghề nghiệp & thu nhập</div>
        <div class="form-row">
          <div class="form-group"><label>Nghề nghiệp</label>
            <select><option>Nhân viên văn phòng</option><option>Quản lý/Giám đốc</option><option>Kinh doanh tự do</option><option>Chủ doanh nghiệp</option><option>Công chức/Viên chức</option><option>Hưu trí</option><option>Khác</option></select>
          </div>
          <div class="form-group"><label>Lĩnh vực công tác</label>
            <select><option>Tài chính/Ngân hàng</option><option>Công nghệ</option><option>Bất động sản</option><option>Y tế</option><option>Giáo dục</option><option>Sản xuất</option><option>Bán lẻ</option><option>Khác</option></select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>Thu nhập hàng tháng</label>
            <select><option>Dưới 10 triệu</option><option>10-20 triệu</option><option>20-50 triệu</option><option>50-100 triệu</option><option>Trên 100 triệu</option></select>
          </div>
          <div class="form-group"><label>Nguồn thu nhập chính</label>
            <select><option>Lương</option><option>Kinh doanh</option><option>Đầu tư</option><option>Cho thuê tài sản</option><option>Nhiều nguồn</option></select>
          </div>
        </div>
        <div class="form-group"><label>Thâm niên công tác (năm)</label>
          <select><option>Dưới 1 năm</option><option>1-3 năm</option><option>3-5 năm</option><option>5-10 năm</option><option>Trên 10 năm</option></select>
        </div>
      </div>
      <div class="form-section">
        <div class="form-section-title">Tình hình tài chính</div>
        <div class="form-row">
          <div class="form-group"><label>Chi tiêu hàng tháng</label>
            <select><option>Dưới 5 triệu</option><option>5-10 triệu</option><option>10-20 triệu</option><option>20-50 triệu</option><option>Trên 50 triệu</option></select>
          </div>
          <div class="form-group"><label>Tỷ lệ tiết kiệm/tháng</label>
            <select><option>Chưa tiết kiệm</option><option>Dưới 10%</option><option>10-20%</option><option>20-30%</option><option>Trên 30%</option></select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>Tình trạng nhà ở</label>
            <select><option>Thuê</option><option>Ở cùng gia đình</option><option>Sở hữu (đang trả góp)</option><option>Sở hữu (đã trả hết)</option></select>
          </div>
          <div class="form-group"><label>Phương tiện di chuyển</label>
            <select><option>Xe máy</option><option>Ô tô (đang trả góp)</option><option>Ô tô (đã trả hết)</option><option>Phương tiện công cộng</option></select>
          </div>
        </div>
        <div class="form-group"><label>Các khoản nợ hiện tại</label>
          <div class="checkbox-group">
            <label><input type="checkbox"> Vay mua nhà</label>
            <label><input type="checkbox"> Vay mua xe</label>
            <label><input type="checkbox"> Vay tiêu dùng</label>
            <label><input type="checkbox"> Thẻ tín dụng</label>
            <label><input type="checkbox"> Không có nợ</label>
          </div>
        </div>
      </div>
      <button type="button" class="btn-submit" onclick="closeModal('demographicModal')">Lưu thông tin</button>
    </div>
  </div>

  <script>
    function openModal(id) { document.getElementById(id).classList.add('active'); }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }
    document.querySelectorAll('.modal-overlay').forEach(m => m.onclick = e => { if(e.target === m) m.classList.remove('active'); });

    function showPage(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page-' + page).classList.add('active');
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      if(event && event.target) event.target.classList.add('active');
    }

    function showProfileTab(tab) {
      document.querySelectorAll('.profile-tab-content').forEach(t => t.style.display = 'none');
      document.getElementById('tab-' + tab).style.display = 'block';
      document.querySelectorAll('.profile-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
    }

    function switchRegisterMethod(method) {
      document.querySelectorAll('.method-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById('emailField').style.display = method === 'email' ? 'block' : 'none';
      document.getElementById('phoneField').style.display = method === 'phone' ? 'block' : 'none';
    }

    function toggleExpand(el) {
      const details = el.nextElementSibling;
      details.classList.toggle('show');
      el.textContent = details.classList.contains('show') ? 'Thu gọn ▲' : 'Xem chi tiết ▼';
    }

    function toggleHousingDetail() {
      const v = document.getElementById('housingStatus').value;
      const show = v === 'owned';
      document.getElementById('housingDetail').style.display = show ? 'block' : 'none';
      document.getElementById('housingExtra').style.display = show ? 'flex' : 'none';
    }

    function toggleVehicleDetail() {
      const v = document.getElementById('vehicleStatus').value;
      const show = v === 'car' || v === 'both';
      document.getElementById('vehicleDetail').style.display = show ? 'block' : 'none';
      document.getElementById('vehicleExtra').style.display = show ? 'flex' : 'none';
    }

    function updateSimulator() {
      const income = parseInt(document.getElementById('simIncome').value.replace(/,/g,'')) || 0;
      const expense = parseInt(document.getElementById('simExpense').value.replace(/,/g,'')) || 0;
      const saving = parseInt(document.getElementById('simSaving').value.replace(/,/g,'')) || 0;
      const goal = parseInt(document.getElementById('simGoal').value.replace(/,/g,'')) || 0;
      const monthly = income - expense;
      const remaining = goal - saving;
      const months = monthly > 0 ? Math.ceil(remaining / monthly) : 0;
      const years = Math.floor(months / 12);
      document.getElementById('simMonthly').textContent = (monthly/1000000).toFixed(0) + 'tr';
      document.getElementById('simTime').textContent = years > 0 ? '~' + years + ' năm' : 'N/A';
      document.getElementById('simAdvice').textContent = years > 5 ? 'Cần vay' : 'Tiết kiệm';
    }

    function searchByChip(keyword) {
      document.getElementById('aiSearchInput').value = keyword;
      goToSearchPage();
    }

    function goToSearchPage() {
      const query = document.getElementById('aiSearchInput').value;
      closeModal('aiModal');
      document.getElementById('searchPageInput').value = query;
      showPageDirect('search');
      filterSearchPage();
    }

    function showPageDirect(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page-' + page).classList.add('active');
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    }

    function filterSearchPage() {
      const query = document.getElementById('searchPageInput').value.toLowerCase();
      const cards = document.querySelectorAll('.search-result-card');
      let count = 0;
      cards.forEach(c => {
        const name = c.querySelector('.result-card-name').textContent.toLowerCase();
        const desc = c.querySelector('.result-card-desc').textContent.toLowerCase();
        const show = name.includes(query) || desc.includes(query) || query === '';
        c.style.display = show ? 'block' : 'none';
        if(show) count++;
      });
      document.getElementById('searchResultsCount').textContent = count + ' sản phẩm được tìm thấy';
    }

    function filterByType(type, el) {
      document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
      el.classList.add('active');
      const cards = document.querySelectorAll('.search-result-card');
      let count = 0;
      cards.forEach(c => {
        const show = type === 'all' || c.dataset.type === type;
        c.style.display = show ? 'block' : 'none';
        if(show) count++;
      });
      document.getElementById('searchResultsCount').textContent = count + ' sản phẩm được tìm thấy';
    }

    function toggleProductDetail(btn) {
      btn.classList.toggle('active');
      const detail = btn.nextElementSibling;
      detail.classList.toggle('show');
      btn.innerHTML = detail.classList.contains('show') 
        ? '<i class="ph-duotone ph-caret-up"></i> Thu gọn' 
        : '<i class="ph-duotone ph-caret-down"></i> Xem chi tiết' + (btn.closest('.search-result-card').dataset.type === 'loan' ? ' & Kế hoạch trả nợ' : '');
    }

    function calcLoan(el) {
      const card = el.closest('.product-detail-expand');
      const inputs = card.querySelectorAll('.sim-field input, .sim-field select');
      const amount = parseInt(inputs[0].value.replace(/,/g,'')) || 0;
      const term = parseInt(inputs[1].value) || 10;
      const rate = parseFloat(inputs[2].value) || 7.5;
      const months = term * 12;
      const monthlyRate = rate / 100 / 12;
      const monthly = amount * monthlyRate * Math.pow(1 + monthlyRate, months) / (Math.pow(1 + monthlyRate, months) - 1);
      const total = monthly * months;
      const interest = total - amount;
      const results = card.querySelectorAll('.sim-val');
      results[0].textContent = (monthly/1000000).toFixed(1) + 'tr';
      results[1].textContent = (interest/1000000).toFixed(0) + 'tr';
      results[2].textContent = total > 1000000000 ? (total/1000000000).toFixed(2) + ' tỷ' : (total/1000000).toFixed(0) + 'tr';
    }

    function selectProduct(el) {
      document.querySelectorAll('.search-product').forEach(p => p.classList.remove('selected'));
      el.classList.add('selected');
    }

    // Dashboard drag & drop
    let draggedWidget = null;
    function toggleDragMode() {
      const grid = document.getElementById('dashboardGrid');
      grid.classList.toggle('drag-mode');
    }
    document.querySelectorAll('.widget').forEach(w => {
      w.addEventListener('dragstart', e => { draggedWidget = w; w.classList.add('dragging'); });
      w.addEventListener('dragend', () => { w.classList.remove('dragging'); });
      w.addEventListener('dragover', e => e.preventDefault());
      w.addEventListener('drop', e => {
        e.preventDefault();
        if(draggedWidget !== w) {
          const grid = document.getElementById('dashboardGrid');
          const allWidgets = [...grid.children];
          const draggedIdx = allWidgets.indexOf(draggedWidget);
          const targetIdx = allWidgets.indexOf(w);
          if(draggedIdx < targetIdx) w.after(draggedWidget);
          else w.before(draggedWidget);
        }
      });
    });
  </script>

</body>
</html>
